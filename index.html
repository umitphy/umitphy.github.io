<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amerika'nın Keşfinde Kaotik Dinamikler</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        .float { animation: float 3s ease-in-out infinite; }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .pulse { animation: pulse 2s ease-in-out infinite; }
        
        .gradient-text {
            background: linear-gradient(90deg, #3b82f6, #a855f7, #ec4899);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        @keyframes butterfly {
            0% { transform: translate(0, 0) rotate(0deg) scale(1); }
            25% { transform: translate(100px, -50px) rotate(90deg) scale(1.2); }
            50% { transform: translate(200px, 0) rotate(180deg) scale(0.8); }
            75% { transform: translate(100px, 50px) rotate(270deg) scale(1.1); }
            100% { transform: translate(0, 0) rotate(360deg) scale(1); }
        }
        
        .butterfly-path {
            animation: butterfly 10s ease-in-out infinite;
        }
        
        @keyframes wave {
            0% { transform: translateX(0) translateY(0); }
            25% { transform: translateX(-10px) translateY(-5px); }
            50% { transform: translateX(5px) translateY(5px); }
            75% { transform: translateX(10px) translateY(-3px); }
            100% { transform: translateX(0) translateY(0); }
        }
        
        .ocean-wave {
            animation: wave 4s ease-in-out infinite;
        }
        
        @keyframes storm {
            0% { transform: rotate(0deg) scale(1); opacity: 0.8; }
            50% { transform: rotate(180deg) scale(1.3); opacity: 1; }
            100% { transform: rotate(360deg) scale(1); opacity: 0.8; }
        }
        
        .storm-effect {
            animation: storm 8s linear infinite;
        }
        
        @keyframes orbit {
            0% { transform: rotate(0deg) translateX(150px) rotate(0deg); }
            100% { transform: rotate(360deg) translateX(150px) rotate(-360deg); }
        }
        
        .orbit-1 { animation: orbit 15s linear infinite; }
        .orbit-2 { animation: orbit 20s linear infinite reverse; }
        .orbit-3 { animation: orbit 25s linear infinite; }

        .three-container {
            width: 100%;
            height: 400px; /* Fixed height, will be dynamic in JS based on container aspect ratio */
            border-radius: 0.5rem;
            overflow: hidden;
            position: relative; /* For absolute positioning of labels */
        }
        canvas { /* Ensures canvases adapt to their flex/grid parents */
            display: block;
            max-width: 100%;
            height: auto;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 text-white min-h-screen">
    <div class="fixed top-0 left-0 w-full h-1 bg-gray-800 z-50">
        <div id="progressBar" class="h-full bg-gradient-to-r from-blue-400 to-purple-600 transition-all duration-300" style="width: 0%"></div>
    </div>

    <nav class="sticky top-1 z-40 bg-slate-900/90 backdrop-blur-lg border-b border-slate-800">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center space-x-2">
                    <i class="fas fa-infinity text-blue-400 text-2xl"></i>
                    <h1 class="text-xl font-bold gradient-text">Kaotik Keşif</h1>
                </div>

                <div class="hidden md:flex space-x-4">
                    <button onclick="showSection('giris')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-home"></i>
                        <span>Giriş</span>
                    </button>
                    <button onclick="showSection('bilimsel-temel')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-flask"></i>
                        <span>Bilimsel Temel</span>
                    </button>
                    <button onclick="showSection('kaotik-parametreler')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-chart-line"></i>
                        <span>Kaotik Parametreler</span>
                    </button>
                    <button onclick="showSection('kelebek-etkisi')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-dove"></i>
                        <span>Kelebek Etkisi</span>
                    </button>
                    <button onclick="showSection('deniz-rotalari')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-ship"></i>
                        <span>Deniz Rotaları</span>
                    </button>
                    <button onclick="showSection('lorenz-simulasyon')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-atom"></i>
                        <span>Lorenz 3D</span>
                    </button>
                    <button onclick="showSection('bifurkasyon')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-code-branch"></i>
                        <span>Bifurkasyon</span>
                    </button>
                    <button onclick="showSection('sonuc')" class="nav-btn flex items-center space-x-1 px-3 py-2 rounded-md transition-all hover:bg-slate-800 text-gray-300">
                        <i class="fas fa-book"></i>
                        <span>Sonuç</span>
                    </button>
                </div>

                <button onclick="toggleMobileMenu()" class="md:hidden p-2 rounded-md hover:bg-slate-800">
                    <i id="mobileMenuIcon" class="fas fa-bars text-xl"></i>
                </button>
            </div>
        </div>
        
        <div id="mobileMenu" class="hidden md:hidden bg-slate-900/95 border-b border-slate-800">
            <div class="px-4 py-2 space-y-2">
                <button onclick="showSection('giris'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-home"></i>
                    <span>Giriş</span>
                </button>
                <button onclick="showSection('bilimsel-temel'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-flask"></i>
                    <span>Bilimsel Temel</span>
                </button>
                <button onclick="showSection('kaotik-parametreler'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-chart-line"></i>
                    <span>Kaotik Parametreler</span>
                </button>
                <button onclick="showSection('kelebek-etkisi'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-dove"></i>
                    <span>Kelebek Etkisi</span>
                </button>
                <button onclick="showSection('deniz-rotalari'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-ship"></i>
                    <span>Deniz Rotaları</span>
                </button>
                <button onclick="showSection('lorenz-simulasyon'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-atom"></i>
                    <span>Lorenz 3D</span>
                </button>
                <button onclick="showSection('bifurkasyon'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-code-branch"></i>
                    <span>Bifurkasyon</span>
                </button>
                <button onclick="showSection('sonuc'); toggleMobileMenu()" class="nav-btn w-full text-left flex items-center space-x-2 px-3 py-2 rounded hover:bg-slate-800">
                    <i class="fas fa-book"></i>
                    <span>Sonuç</span>
                </button>
            </div>
        </div>
    </nav>

    <section class="relative overflow-hidden hero-section">
        <div class="absolute inset-0 bg-black/30"></div>
        <div class="relative max-w-7xl mx-auto px-4 py-24 sm:px-6 lg:px-8">
            <div class="text-center">
                <h2 class="text-5xl md:text-7xl font-bold mb-6 gradient-text">
                    Amerika'nın Keşfinde Kaotik Dinamikler
                </h2>
                <p class="text-xl md:text-2xl text-gray-300 max-w-3xl mx-auto mb-4">
                    1492'deki kelebek kanadı, bugünün dünyasını yarattı
                </p>
                
                <div class="relative h-32 max-w-lg mx-auto">
                    <div class="butterfly-path absolute left-0 top-1/2">
                        <span class="text-4xl">🦋</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <main class="max-w-7xl mx-auto px-4 py-16 sm:px-6 lg:px-8">
        <section id="giris" class="content-section">
            <div class="space-y-8">
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-2xl p-8 border border-slate-700">
                    <h3 class="text-3xl font-bold mb-6 text-center gradient-text">Tarihin Kaotik Doğası</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <p class="text-gray-300 leading-relaxed mb-4 text-lg">
                                Tarihsel olaylar, **kaos teorisinin** en çarpıcı örneklerini sunar. 
                                Amerika'nın keşfi, başlangıç koşullarına aşırı duyarlı bir sistemin 
                                nasıl beklenmedik sonuçlara yol açabileceğinin mükemmel bir göstergesidir.
                            </p>
                            <p class="text-gray-300 leading-relaxed mb-4 text-lg">
                                Columbus'un yolculuğu, sayısız kaotik parametrenin bir araya gelmesiyle gerçekleşti: 
                                yanlış harita hesaplamaları, beklenmedik rüzgar akımları, politik evlilikler, 
                                ekonomik krizler - bunların her biri tarihin akışını değiştirebilecek 
                                <span class="text-purple-400 font-semibold">hassas noktalar</span>dı.
                            </p>
                            <p class="text-gray-300 leading-relaxed mb-6 text-lg">
                                Bu sunum, matematiksel modeller ve görsel simülasyonlarla 1492'nin 
                                nasıl bir <span class="text-blue-400 font-semibold">kaotik çatallanma noktası</span> 
                                olduğunu analiz eder.
                            </p>
                            <div class="mt-6 p-4 bg-blue-900/20 rounded-lg border border-blue-700/30">
                                <p class="text-sm text-blue-300">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    <strong>Bilimsel Not:</strong> Kaos teorisi, deterministik sistemlerin başlangıç koşullarındaki 
                                    küçük değişikliklerin büyük ve öngörülemez sonuçlara yol açabileceğini gösterir. 
                                    Bu fenomen, **Lyapunov üstelleri** ile matematiksel olarak ifade edilir: $\lambda > 0 \rightarrow \text{Kaotik sistem}$.
                                </p>
                            </div>
                        </div>
                        <div class="bg-slate-900/50 rounded-lg p-6 border border-slate-600">
                            <h4 class="text-xl font-semibold mb-4 text-blue-400">Kaotik Sistemin 3 Temel Özelliği</h4>
                            <div class="space-y-6">
                                <div class="flex items-start space-x-4">
                                    <div class="bg-purple-600/20 rounded-full p-3">
                                        <span class="text-2xl">🎯</span>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-purple-400 text-lg">Deterministik ama Öngörülemez</p>
                                        <p class="text-sm text-gray-400">Kurallar belirli, sonuçlar belirsiz</p>
                                        <p class="text-xs text-purple-300 mt-1">Örnek: Columbus'un rotası matematiksel kurallara uyar ama sonucu öngörülemez</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-4">
                                    <div class="bg-blue-600/20 rounded-full p-3">
                                        <span class="text-2xl">🦋</span>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-blue-400 text-lg">Hassas Bağımlılık</p>
                                        <p class="text-sm text-gray-400">Küçük farklar, büyük sapmalar</p>
                                        <p class="text-xs text-blue-300 mt-1">Örnek: 1° navigasyon hatası = 1000 km sapma</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-4">
                                    <div class="bg-green-600/20 rounded-full p-3">
                                        <span class="text-2xl">🔄</span>
                                    </div>
                                    <div>
                                        <p class="font-semibold text-green-400 text-lg">Geri Besleme Döngüleri</p>
                                        <p class="text-sm text-gray-400">Sonuçlar yeni başlangıçlar yaratır</p>
                                        <p class="text-xs text-green-300 mt-1">Örnek: Keşif → Zenginlik → Daha fazla keşif</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="bilimsel-temel" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">Kaos Teorisinin Bilimsel Temelleri</h3>
                
                <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 rounded-xl p-8 border border-purple-700/50">
                    <h4 class="text-2xl font-semibold mb-6 text-center">Matematiksel Çerçeve</h4>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h5 class="text-lg font-semibold text-blue-400 mb-3">
                                <i class="fas fa-calculator mr-2"></i>Lyapunov Üstelleri ($\lambda$)
                            </h5>
                            <p class="text-gray-300 mb-4">
                                **Lyapunov üstelleri** ($\lambda$), bir sistemdeki yakın yörüngelerin birbirinden ne kadar hızlı uzaklaştığını veya yakınlaştığını ölçer. Pozitif bir Lyapunov üsteli, sistemin kaotik olduğunu ve başlangıç koşullarına hassas bağımlılık gösterdiğini ifade eder.
                            </p>
                            <div class="bg-slate-900/50 rounded p-3 mb-3 text-center">
                                <code class="text-purple-400 text-lg">$$\lambda = \lim_{t\to\infty} \frac{1}{t} \ln\left(\frac{|\delta Z(t)|}{|\delta Z_0|}\right)$$</code>
                            </div>
                            <div class="space-y-2 text-sm">
                                <p class="text-gray-300">• <strong>$\lambda > 0$:</strong> Sistem kaotiktir (yörüngeler ayrışır)</p>
                                <p class="text-gray-300">• <strong>$\lambda = 0$:</strong> Periyodik veya nötr stabil sistem (yörüngeler yakın kalır)</p>
                                <p class="text-gray-300">• <strong>$\lambda < 0$:</strong> Stabil sistem (yörüngeler bir çekiciye yakınsar)</p>
                            </div>
                            <div class="mt-3 p-2 bg-blue-900/20 rounded">
                                <p class="text-xs text-blue-300">
                                    <i class="fas fa-info-circle mr-2"></i>
                                    **1492 Analizi:** Columbus'un rotasındaki küçük bir başlangıç hatası, 
                                    gerçekçi bir **$\lambda \approx 0.9$** değeriyle katlanarak büyüdü. Bu, deniz 
                                    yolculuğunun nihai varış noktasında (örneğin, San Salvador yerine farklı bir ada) 
                                    büyük sapmalara yol açtı.
                                </p>
                            </div>
                        </div>
                        
                        <div class="bg-slate-800/50 rounded-lg p-6">
                            <h5 class="text-lg font-semibold text-purple-400 mb-3">
                                <i class="fas fa-infinity mr-2"></i>Feigenbaum Sabitleri ($\delta, \alpha$)
                            </h5>
                            <p class="text-gray-300 mb-4">
                                **Feigenbaum sabitleri**, bir sistemin periyot katlanması yoluyla kaosa geçişinde gözlemlenen evrensel oranlardır. Bu sabitler, birçok farklı kaotik sistemde ortaya çıkar ve kaosun evrenselliğini gösterir.
                            </p>
                            <div class="bg-slate-900/50 rounded p-3 mb-3 text-center">
                                <code class="text-blue-400 text-lg">$$\delta \approx 4.669201609...$$</code><br>
                                <code class="text-green-400 text-lg">$$\alpha \approx 2.502907875...$$</code>
                            </div>
                            <div class="space-y-2 text-sm">
                                <p class="text-gray-300">• <strong>$\delta$:</strong> Bir sonraki periyot-ikiye katlanmanın bir önceki periyoda oranının limiti</p>
                                <p class="text-gray-300">• <strong>$\alpha$:</strong> Bir periyot katlanması sırasında çatallanma genişliğinin ölçekleme faktörü</p>
                                <p class="text-gray-300">• <strong>Evrensel:</strong> Farklı sistemlerde (lojistik harita, Lorenz atraktörü vb.) aynı kritik davranış</p>
                            </div>
                            <div class="mt-3 p-2 bg-purple-900/20 rounded">
                                <p class="text-xs text-purple-300">
                                    <strong>Tarihsel Bağlam:</strong> 15. yüzyıl Avrupa'sında teknolojik ve sosyal değişimler, 
                                    bu sabitlere uygun şekilde hızlandı. Matbaa, barutlu silahlar ve denizcilik teknolojilerindeki 
                                    yenilikler, keşiflerin artan sıklığını ve öngörülemezliğini açıklayan "periyot katlanmaları" 
                                    gibi düşünülebilir.
                                </p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 bg-slate-800/50 rounded-lg p-6">
                        <h5 class="text-lg font-semibold text-green-400 mb-3">
                            <i class="fas fa-chart-scatter mr-2"></i>Poincaré Kesitleri ve Tarihsel Analiz
                        </h5>
                        <p class="text-gray-300 mb-3">
                            **Poincaré kesiti**, yüksek boyutlu dinamik sistemlerin davranışını belirli bir kesitteki noktaların dağılımıyla görselleştirmeye yarayan bir tekniktir. Tarihsel dinamikleri analiz etmek için, belirli bir "yıl" veya "olay" anında sistemin durumunu (örneğin, ekonomik karmaşıklık ve politik istikrarsızlık boyutlarında) 2 boyutlu bir düzlemde gösteririz.
                        </p>
                        <div class="bg-slate-900/30 rounded-lg p-4">
                            <canvas id="poincare-section" class="w-full h-80 rounded"></canvas>
                        </div>
                        <div class="mt-3 grid md:grid-cols-2 gap-4 text-sm">
                            <div class="bg-slate-900/30 rounded p-3">
                                <p class="text-blue-400 font-semibold">Mavi Noktalar: 1490-1491</p>
                                <p class="text-gray-300">Stabil dönem, öngörülebilir dinamikler (örneğin, Reconquista'nın son aşamaları)</p>
                            </div>
                            <div class="bg-slate-900/30 rounded p-3">
                                <p class="text-red-400 font-semibold">Kırmızı Nokta: 1492</p>
                                <p class="text-gray-300">Kaotik sıçrama, sistem değişimi (Yeni Dünya keşfi, küresel dönüşüm)</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-2xl font-semibold mb-6 text-center">Fiziksel Sistemlerle Karşılaştırma</h4>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-slate-900/50 rounded-lg p-6 text-center hover:scale-105 transition-transform">
                            <div class="text-4xl mb-4">🌡️</div>
                            <h5 class="font-semibold text-blue-400 mb-3">Rayleigh-Bénard Konveksiyonu</h5>
                            <p class="text-sm text-gray-300 mb-3">
                                Isıtılan sıvıdaki kaotik akış desenleri, **ticaret yollarındaki değişimler** gibi düşünülebilir. Rayleigh sayısı (Ra), sıvının davranışını belirler.
                            </p>
                            <div class="bg-slate-800/50 rounded p-2 mb-2">
                                <code class="text-xs text-blue-400">Ra > 1708 (kritik eşik)</code>
                            </div>
                            <p class="text-xs text-gray-500">
                                Rayleigh sayısı kritik değeri aştığında düzenli akış kaotik hale gelir, tıpkı yeni ticaret rotalarına duyulan ihtiyacın (örneğin İstanbul'un fethi sonrası) artması gibi.
                            </p>
                        </div>
                        
                        <div class="bg-slate-900/50 rounded-lg p-6 text-center hover:scale-105 transition-transform">
                            <div class="text-4xl mb-4">🌀</div>
                            <h5 class="font-semibold text-purple-400 mb-3">Çift Sarkaç Sistemi</h5>
                            <p class="text-sm text-gray-300 mb-3">
                                Bağlı sarkaçların öngörülemez kaotik hareketi, 
                                **politik ittifakların ve hanedan evliliklerinin karmaşıklığına** benzetilebilir.
                            </p>
                            <div class="bg-slate-800/50 rounded p-2 mb-2">
                                <code class="text-xs text-purple-400">H = T + V (korunumlu)</code>
                            </div>
                            <p class="text-xs text-gray-500">
                                Hamilton sistemlerinde enerji korunsa da, sistemin yörüngeleri kaotik olabilir. Bu, politik çıkarların ve ittifakların (örneğin İspanya Krallığı'nın evlilikleri) beklenmedik ve geniş çaplı sonuçlarını yansıtır.
                            </p>
                        </div>
                        
                        <div class="bg-slate-900/50 rounded-lg p-6 text-center hover:scale-105 transition-transform">
                            <div class="text-4xl mb-4">⚡</div>
                            <h5 class="font-semibold text-green-400 mb-3">Chua Devresi</h5>
                            <p class="text-sm text-gray-300 mb-3">
                                Elektronik devredeki kaos fenomeni, **ekonomik sistemlerdeki dalgalanmalara ve ani büyüme/düşüşlere** analojidir.
                            </p>
                            <div class="bg-slate-800/50 rounded p-2 mb-2">
                                <code class="text-xs text-green-400">Fraktal Boyut: 2.78 (tipik)</code>
                            </div>
                            <p class="text-xs text-gray-500">
                                Fraktal boyut, bir çekicinin karmaşıklığını ölçer; ekonomik piyasaların 1492 sonrası gösterdiği ani büyüme ve düşüşler, bu karmaşık dinamiklerin bir yansıması olarak görülebilir.
                            </p>
                        </div>
                    </div>

                    <div class="mt-6 p-4 bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-lg">
                        <p class="text-center text-sm text-gray-300">
                            <i class="fas fa-lightbulb mr-2 text-yellow-400"></i>
                            **Ana Fikir:** Farklı fiziksel sistemlerdeki kaos, tarihsel olaylarla 
                            benzer matematiksel yapılara sahiptir. Bu, kaos teorisinin evrenselliğini gösterir ve karmaşık 
                            sistemlerin davranışlarını anlamak için güçlü bir çerçeve sunar.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="kaotik-parametreler" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">Amerika'nın Keşfindeki Kaotik Parametreler</h3>
                
                <div class="bg-gradient-to-r from-blue-900/30 to-purple-900/30 rounded-xl p-8 border border-purple-700/50">
                    <h4 class="text-2xl font-semibold mb-6 text-center">Lojistik Harita ve Tarihsel Dinamikler</h4>
                    <div class="text-center mb-6">
                        <div class="bg-slate-900/50 rounded-lg p-4 max-w-md mx-auto">
                            <code class="text-2xl text-purple-400 block mb-2">
                                $$x_{n+1} = r \cdot x_n \cdot (1 - x_n)$$
                            </code>
                            <div class="text-sm text-gray-400 space-y-1">
                                <p><strong>$x_n$:</strong> Tarihsel durum (0-1 arası normalize edilmiş pazar büyüklüğü/istikrarı veya inovasyon oranı)</p>
                                <p><strong>$r$:</strong> Sistem karmaşıklığı/büyüme oranı (2.5-4.0 arası)</p>
                                <p><strong>$n$:</strong> Zaman adımları (yıllar veya önemli olaylar arası periyotlar)</p>
                                <p class="text-xs text-purple-300 mt-2">
                                    Bu denklem, bir sistemin popülasyon büyümesi veya teknolojik yayılım gibi süreçlerinin zamanla nasıl değiştiğini modellemek için kullanılır ve $r$ parametresine göre düzenli, periyodik veya kaotik davranış sergiler.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-6 mb-6">
                        <div class="bg-slate-800/60 rounded-lg p-6 border border-blue-500/30">
                            <div class="flex items-center mb-3">
                                <span class="bg-blue-600 rounded-full w-3 h-3 mr-3"></span>
                                <h5 class="text-lg font-semibold text-blue-400">r = 3.2 (Periyodik Dönem)</h5>
                            </div>
                            <p class="text-gray-300 mb-4 font-medium">Granada'nın düşüşü (1492) - İspanya'nın birleşmesi</p>
                            <div class="space-y-3">
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-circle text-green-400 text-xs mt-2"></i>
                                    <div>
                                        <p class="text-sm font-medium">2-periyot çatallanması</p>
                                        <p class="text-xs text-gray-400">Hristiyan-Müslüman dengesi salınımı, sonunda tek kutuplu Katolik monarşi</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-circle text-green-400 text-xs mt-2"></i>
                                    <div>
                                        <p class="text-sm font-medium">Stabil çekim noktası</p>
                                        <p class="text-xs text-gray-400">Katolik monarşinin hegemonyası ve güçlenmesi</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-circle text-green-400 text-xs mt-2"></i>
                                    <div>
                                        <p class="text-sm font-medium">Öngörülebilir dinamikler</p>
                                        <p class="text-xs text-gray-400">Reconquista'nın mantıklı tamamlanması ve iç istikrar arayışı</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 bg-slate-900/50 rounded p-3">
                                <p class="text-xs text-purple-400">
                                    <i class="fas fa-flask mr-1"></i>
                                    **Bilimsel Dayanak:** $r = (1 + \sqrt{5})/2 \approx 3.236$ (lojistik haritanın ilk kaos penceresine girdiği bölge). Bu, sistemde periyodik salınımların başladığı ancak henüz tam kaosa girmediği dönemi temsil eder.
                                </p>
                            </div>
                        </div>

                        <div class="bg-slate-800/60 rounded-lg p-6 border border-red-500/30">
                            <div class="flex items-center mb-3">
                                <span class="bg-red-600 rounded-full w-3 h-3 mr-3"></span>
                                <h5 class="text-lg font-semibold text-red-400">r = 3.8 (Tam Kaos)</h5>
                            </div>
                            <p class="text-gray-300 mb-4 font-medium">Columbus'un Yolculuğu - Belirsizlik Denizi</p>
                            <div class="space-y-3">
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-circle text-red-400 text-xs mt-2"></i>
                                    <div>
                                        <p class="text-sm font-medium">Periyot-$\infty$ (Aperiodik)</p>
                                        <p class="text-xs text-gray-400">Sonsuz olası rota, tekrar etmeyen döngü; yani keşfin öngörülemezliği</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-circle text-red-400 text-xs mt-2"></i>
                                    <div>
                                        <p class="text-sm font-medium">Garip çekici (Strange Attractor)</p>
                                        <p class="text-xs text-gray-400">Bilinmeyen kıtaların çekimi, belirli bir kalıp içinde rastgelelik</p>
                                    </div>
                                </div>
                                <div class="flex items-start space-x-3">
                                    <i class="fas fa-circle text-red-400 text-xs mt-2"></i>
                                    <div>
                                        <p class="text-sm font-medium">Fraktal havza sınırları</p>
                                        <p class="text-xs text-gray-400">Başarı/başarısızlık sınırları belirsiz, en küçük hata büyük fark yaratır</p>
                                    </div>
                                </div>
                            </div>
                            <div class="mt-4 bg-slate-900/50 rounded p-3">
                                <p class="text-xs text-red-400">
                                    <i class="fas fa-exclamation-triangle mr-1"></i>
                                    **Kritik Nokta:** $r \approx 3.56995...$ (**Feigenbaum sınırı**). Bu değerin üzerinde lojistik harita tam kaotik davranış sergiler, yani uzun vadeli tahmin imkansız hale gelir. Columbus'un keşfi dönemi bu tam kaotik rejime denk düşer.
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700">
                        <h4 class="text-xl font-semibold mb-4 text-center">
                            <i class="fas fa-sliders-h mr-2"></i>İnteraktif Kaos Parametresi Simülatörü
                        </h4>
                        <div class="space-y-4">
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">
                                    r değeri (Tarihsel Karmaşıklık): 
                                    <span id="rValue" class="text-blue-400 font-bold text-lg">3.500</span>
                                </label>
                                <input type="range" id="chaosSlider" min="2.5" max="4" step="0.001" value="3.5" 
                                        class="w-full h-3 bg-gray-700 rounded-lg appearance-none cursor-pointer slider">
                            </div>
                            <div class="bg-slate-900/50 rounded-lg">
                                <canvas id="bifurcationPreview" class="w-full rounded-lg h-56"></canvas>
                            </div>
                            <div id="chaosDescription" class="text-sm text-gray-300 p-4 bg-slate-900/50 rounded-lg border-l-4 border-blue-500">
                                <p><strong>r = 3.500:</strong> Periyodik kaos başlıyor. Tarihsel olaylar öngörülebilir kalıplardan sapmaya başlar.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="kelebek-etkisi" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">1492'nin Kelebek Kanatları</h3>
                
                <div class="bg-gradient-to-br from-purple-900/30 to-blue-900/30 rounded-xl p-8 border border-purple-700/50">
                    <div class="text-center mb-8">
                        <p class="text-3xl text-gray-300 mb-4 italic">
                            "Sevilla'da bir kelebeğin kanat çırpışı,<br>Tenochtitlan'ın düşüşüne yol açabilir"
                        </p>
                        <p class="text-lg text-purple-400">- Kaotik Tarih Perspektifi</p>
                    </div>

                    <div class="relative h-80 overflow-hidden rounded-lg bg-slate-900/30 mb-6">
                        <canvas id="butterflyCanvas" class="w-full h-full"></canvas>
                        <div class="absolute top-4 left-4 bg-black/70 rounded p-2 text-xs z-10">
                            <p class="text-blue-400">🔵 İki yakın başlangıç koşulu</p>
                            <p class="text-purple-400">🟣 Zamanla birbirinden ayrılan yörüngeler</p>
                            <p class="text-green-400">🟢 Hassas bağımlılık dinamiği</p>
                        </div>
                        <div class="absolute bottom-4 right-4 bg-black/70 rounded p-2 text-xs z-10">
                            <p class="text-gray-300">Bu simülasyon, başlangıçtaki küçücük bir farkın (kelebek kanat çırpışı) zamanla sistemin gelecekteki durumunda (hava durumu/tarihsel olay) nasıl büyük sapmalara yol açtığını gösterir.</p>
                        </div>
                    </div>
                </div>

                <div class="grid md:grid-cols-3 gap-6">
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700 hover:scale-105 transition-transform duration-300">
                        <div class="text-center mb-4">
                            <div class="bg-blue-600/20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                                <span class="text-3xl">🦋</span>
                            </div>
                        </div>
                        <h4 class="text-lg font-semibold mb-3 text-blue-400 text-center">Küçük Başlangıç (Mikro-Pertürbasyon)</h4>
                        <div class="space-y-3 text-center">
                            <p class="text-sm text-gray-300 font-medium">
                                Isabella'nın mücevher satma kararı
                            </p>
                            <p class="text-xs text-gray-400">17 Nisan 1492</p>
                            <div class="text-xs text-purple-400 bg-slate-900/50 rounded p-2">
                                <i class="fas fa-arrow-right mr-1"></i>
                                <strong>$\Delta x_0 = \text{0.001 (finansal destek pertürbasyonu)}$</strong>
                            </div>
                            <p class="text-xs text-gray-500">
                                Kraliçe'nin 30.000 maravedi'lik kişisel katkısı (dönemin koşullarına göre küçük bir finansal dalgalanma)
                            </p>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700 hover:scale-105 transition-transform duration-300">
                        <div class="text-center mb-4">
                            <div class="bg-purple-600/20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                                <span class="text-3xl">🌊</span>
                            </div>
                        </div>
                        <h4 class="text-lg font-semibold mb-3 text-purple-400 text-center">Büyüyen Dalga (Üstel Diverjans)</h4>
                        <div class="space-y-3 text-center">
                            <p class="text-sm text-gray-300 font-medium">
                                3 gemi hazırlandı, 90 mürettebat ile yolculuk başladı
                            </p>
                            <p class="text-xs text-gray-400">Ağustos-Ekim 1492</p>
                            <div class="text-xs text-blue-400 bg-slate-900/50 rounded p-2">
                                <i class="fas fa-arrow-right mr-1"></i>
                                <strong>$\Delta x(t) \approx \Delta x_0 \cdot e^{\lambda t}$</strong>
                            </div>
                            <p class="text-xs text-gray-500">
                                Katlanarak büyüyen etkiler: Lyapunov üsteli **$\lambda \approx 0.9/\text{yıl}$**, bu küçük finansal başlangıç hatasının küresel sistemde hızla büyüyeceğini gösterir.
                            </p>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-6 border border-slate-700 hover:scale-105 transition-transform duration-300">
                        <div class="text-center mb-4">
                            <div class="bg-green-600/20 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-3">
                                <span class="text-3xl">🌍</span>
                            </div>
                        </div>
                        <h4 class="text-lg font-semibold mb-3 text-green-400 text-center">Küresel Fırtına (Makro Değişim)</h4>
                        <div class="space-y-3 text-center">
                            <p class="text-sm text-gray-300 font-medium">
                                İki kıta birleşti, milyonlar etkilendi
                            </p>
                            <p class="text-xs text-gray-400">1493-1600 arası</p>
                            <div class="text-xs text-green-400 bg-slate-900/50 rounded p-2">
                                <i class="fas fa-arrow-right mr-1"></i>
                                <strong>$\lambda \approx 0.9/\text{yıl}$</strong> (Lyapunov üsteli)
                            </div>
                            <p class="text-xs text-gray-500">
                                100 milyon yerli nüfusun azalması, 12 milyon Afrikalının köleleştirilmesi gibi devasa demografik ve kültürel değişimler.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-clock mr-2"></i>Kritik Kelebek Anları ve Hassaslık Analizi
                    </h4>
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-6 bg-gradient-to-r from-slate-900/30 to-blue-900/20 rounded-lg hover:from-slate-900/50 hover:to-blue-900/30 transition-all duration-300 border border-blue-500/20">
                            <div class="flex items-center space-x-4">
                                <div class="bg-blue-600/20 rounded-full p-3">
                                    <span class="text-2xl">🏰</span>
                                </div>
                                <div>
                                    <p class="font-semibold text-blue-400 text-lg">2 Ocak 1492</p>
                                    <p class="text-sm text-gray-300">Granada'nın teslimi - Kaynakların serbest kalması</p>
                                    <p class="text-xs text-gray-500">700 yıllık Reconquista'nın sonu ve İspanya'nın iç siyasi odağının değişmesi</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="bg-purple-600/20 rounded-lg p-3">
                                    <p class="text-xs text-purple-400 font-bold">Hassaslık Analizi:</p>
                                    <p class="text-xs text-purple-300">±1 gün gecikme = %12 finansal tahsis değişimi</p>
                                    <p class="text-xs text-gray-500">Finansal kaynakların keşfe yönlendirilmesinde domino etkisi</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-6 bg-gradient-to-r from-slate-900/30 to-purple-900/20 rounded-lg hover:from-slate-900/50 hover:to-purple-900/30 transition-all duration-300 border border-purple-500/20">
                            <div class="flex items-center space-x-4">
                                <div class="bg-purple-600/20 rounded-full p-3">
                                    <span class="text-2xl">📜</span>
                                </div>
                                <div>
                                    <p class="font-semibold text-purple-400 text-lg">17 Nisan 1492</p>
                                    <p class="text-sm text-gray-300">Santa Fe Anlaşması - Columbus'a yetki verilmesi</p>
                                    <p class="text-xs text-gray-500">7 yıllık pazarlığın sonu ve son anda kabul</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="bg-blue-600/20 rounded-lg p-3">
                                    <p class="text-xs text-blue-400 font-bold">Hassaslık Analizi:</p>
                                    <p class="text-xs text-blue-300">±1 hafta gecikme = %35 mevsimsel rüzgar kaybı olasılığı</p>
                                    <p class="text-xs text-gray-500">Ticaret rüzgarlarını kaçırma riski, yolculuğu imkansız kılabilirdi</p>
                                </div>
                            </div>
                        </div>

                        <div class="flex items-center justify-between p-6 bg-gradient-to-r from-slate-900/30 to-green-900/20 rounded-lg hover:from-slate-900/50 hover:to-green-900/30 transition-all duration-300 border border-green-500/20">
                            <div class="flex items-center space-x-4">
                                <div class="bg-green-600/20 rounded-full p-3">
                                    <span class="text-2xl">👁️</span>
                                </div>
                                <div>
                                    <p class="font-semibold text-green-400 text-lg">11 Ekim 1492, 22:00</p>
                                    <p class="text-sm text-gray-300">Rodrigo de Triana'nın "Tierra!" haykırışı</p>
                                    <p class="text-xs text-gray-500">Pinta gemisinden ilk kara görme anı, yolculuğun kaderini belirledi</p>
                                </div>
                            </div>
                            <div class="text-right">
                                <div class="bg-green-600/20 rounded-lg p-3">
                                    <p class="text-xs text-green-400 font-bold">Hassaslık Analizi:</p>
                                    <p class="text-xs text-green-300">±2 saat sapma = farklı ada veya kayıp!</p>
                                    <p class="text-xs text-gray-500">San Salvador yerine daha batıdaki Bahama Adaları'na varış veya rota kaybı olasılığı</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-8 p-6 bg-gradient-to-r from-purple-900/20 to-blue-900/20 rounded-lg border border-purple-500/30">
                        <h5 class="text-lg font-semibold text-purple-400 mb-3">
                            <i class="fas fa-calculator mr-2"></i>Matematiksel Hassaslık Modeli
                        </h5>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-slate-900/30 rounded p-3">
                                <p class="text-sm text-purple-300 mb-2">
                                    <strong>Zaman Pertürbasyonu ($\Delta t$):</strong>
                                </p>
                                <code class="text-xs text-blue-400">$$\Delta t = t_0 \cdot (1 + \epsilon)$$</code>
                                <p class="text-xs text-gray-400 mt-1">
                                    $\epsilon \sim N(0, \sigma^2)$ rastgele pertürbasyon (örneğin, $\sigma = 0.01$ bir günlük sapmaya eşdeğer)
                                </p>
                            </div>
                            <div class="bg-slate-900/30 rounded p-3">
                                <p class="text-sm text-green-300 mb-2">
                                    <strong>Karar Noktası Etkisi (Lojistik Fonksiyon):</strong>
                                </p>
                                <code class="text-xs text-green-400">$$P(\text{başarı}) = \frac{1}{1 + e^{-k \cdot \Delta t}}$$</code>
                                <p class="text-xs text-gray-400 mt-1">
                                    $k = 2.5$ (karar hassaslık katsayısı); bu, bir karar ne kadar kritikse küçük zaman kaymalarının başarı olasılığını o kadar etkileyeceğini gösterir.
                                </p>
                            </div>
                        </div>
                        <p class="text-sm text-gray-300 mt-4 text-center">
                            Her kritik karar noktasında sistem yeni bir faz uzayı bölgesine sıçrar ve 
                            gelecekteki tüm olasılık dağılımı değişir.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="deniz-rotalari" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">Okyanusun Kaotik Dinamikleri</h3>
                
                <div class="bg-gradient-to-r from-blue-900/30 to-cyan-900/30 rounded-xl p-8 border border-blue-700/50">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-water mr-2"></i>Deniz Rotalarının Kaotik Modeli
                    </h4>
                    
                    <div class="relative h-96 bg-slate-900/50 rounded-lg overflow-hidden mb-6 border border-cyan-500/30">
                        <canvas id="oceanCanvas" class="w-full h-full"></canvas>
                        <div class="absolute top-4 left-4 bg-black/80 rounded-lg p-3 text-xs border border-cyan-500/30">
                            <h6 class="text-cyan-400 font-bold mb-2">Okyanus Dinamikleri:</h6>
                            <p class="text-blue-400"><span class="inline-block w-2 h-2 bg-blue-400 rounded-full mr-2"></span>Ticaret rüzgarları (istikrarlı ancak enleme bağlı)</p>
                            <p class="text-green-400"><span class="inline-block w-2 h-2 bg-green-400 rounded-full mr-2"></span>Kanarya akıntısı (başlangıç etkisi)</p>
                            <p class="text-red-400"><span class="inline-block w-2 h-2 bg-red-400 rounded-full mr-2"></span>Columbus rotası (simüle edilmiş)</p>
                            <p class="text-cyan-400"><span class="inline-block w-2 h-2 bg-cyan-400 rounded-full mr-2"></span>Türbülans bölgeleri (kötü hava/akıntı sapmaları)</p>
                        </div>
                        <div class="absolute bottom-4 right-4 bg-black/80 rounded-lg p-3 text-xs">
                            <p class="text-yellow-400">🟡 İspanya (Palos)</p>
                            <p class="text-green-400">🟢 San Salvador</p>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-slate-800/50 rounded-lg p-6 border border-blue-500/30">
                            <h5 class="text-lg font-semibold text-blue-400 mb-3">
                                <i class="fas fa-water mr-2"></i>Navier-Stokes Denklemleri
                            </h5>
                            <p class="text-gray-300 mb-4">
                                **Navier-Stokes denklemleri**, akışkanların hareketini tanımlayan temel denklemlerdir. Okyanus akıntıları, rüzgarlar ve hava durumu gibi kaotik sistemlerin temelini oluşturur.
                            </p>
                            <div class="bg-slate-900/50 rounded p-4 mb-3 text-center border border-blue-500/20">
                                <code class="text-purple-400 text-sm block mb-2">
                                    $$\frac{\partial \mathbf{v}}{\partial t} + (\mathbf{v} \cdot \nabla)\mathbf{v} = -\frac{1}{\rho}\nabla p + \mu \nabla^2 \mathbf{v} + \mathbf{F}$$
                                </code>
                                <div class="text-xs text-gray-400 space-y-1">
                                    <p><strong>$\mathbf{v}$:</strong> Akışkan hızı vektörü, <strong>$p$:</strong> Basınç</p>
                                    <p><strong>$\rho$:</strong> Akışkan yoğunluğu, <strong>$\mu$:</strong> Dinamik viskozite</p>
                                    <p><strong>$\mathbf{F}$:</strong> Dış kuvvetler (Coriolis, yerçekimi, rüzgar sürtünmesi)</p>
                                </div>
                            </div>
                            <div class="space-y-2 text-sm">
                                <p class="text-gray-300">• <strong>Reynolds sayısı ($\text{Re}$):</strong> $\text{Re} > 4000$ (türbülanslı akış, okyanuslarda genellikle geçerlidir)</p>
                                <p class="text-gray-300">• <strong>Kaotik rejim:</strong> Öngörülemez girdaplar ve akıntı değişimleri</p>
                                <p class="text-gray-300">• <strong>Hassas bağımlılık:</strong> Başlangıç koşullarına ve mikro-etkilere</p>
                            </div>
                        </div>
                        
                        <div class="bg-slate-800/50 rounded-lg p-6 border border-green-500/30">
                            <h5 class="text-lg font-semibold text-green-400 mb-3">
                                <i class="fas fa-compass mr-2"></i>Rota Sapması Hesabı
                            </h5>
                            <p class="text-gray-300 mb-4">
                                Gemi rotasındaki birikimli sapma, okyanus akıntılarının ve rüzgarların etkileşimiyle modellenir. En küçük sapmalar bile uzun mesafelerde büyük farklar yaratabilir.
                            </p>
                            <div class="bg-slate-900/50 rounded p-4 mb-3 text-center border border-green-500/20">
                                <code class="text-blue-400 text-sm block mb-2">
                                    $$\Delta \text{pos}(t) = \int_0^t (\mathbf{V}_{\text{gemi}}(s) + \mathbf{V}_{\text{akıntı}}(s) + \mathbf{V}_{\text{rüzgar}}(s)) ds$$
                                </code>
                                <div class="text-xs text-gray-400 space-y-1">
                                    <p><strong>$\Delta \text{pos}(t)$:</strong> Kümülatif konum sapması</p>
                                    <p><strong>$\mathbf{V}_{\text{gemi}}$:</strong> Geminin hızı, <strong>$\mathbf{V}_{\text{akıntı}}$:</strong> Akıntı hızı</p>
                                    <p><strong>$\mathbf{V}_{\text{rüzgar}}$:</strong> Rüzgarın gemiye etkisi</p>
                                </div>
                            </div>
                            <div class="space-y-2 text-sm">
                                <p class="text-gray-300">• <strong>Günlük ortalama sapma:</strong> ~$0.5 - 1.5^\circ/\text{gün}$ (akıntı ve rüzgara bağlı)</p>
                                <p class="text-gray-300">• <strong>36 günde (Columbus):</strong> $18^\circ - 54^\circ$ toplam sapma</p>
                                <p class="text-gray-300">• <strong>Mesafe farkı:</strong> ~$500 \text{ km} - 1500 \text{ km}$ (büyük ölçekli sapma)</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 bg-slate-800/30 rounded-lg p-4 border border-cyan-500/30">
                        <h6 class="text-cyan-400 font-semibold mb-2">
                            <i class="fas fa-info-circle mr-2"></i>Columbus'un Navigasyon Zorluğu
                        </h6>
                        <p class="text-sm text-gray-300">
                            15. yüzyılda manyetik pusula ve çölestiyel navigasyon ile $\pm 2-3^\circ$ hassasiyet mümkündü. 
                            Ancak **kaotik okyanus akıntıları ve değişken rüzgarlar** bu hataları katlanarak büyüttü. 
                            Columbus, "dead reckoning" (ölü hesaplama) yöntemiyle günlük konumunu tahmin etmeye çalıştı; 
                            bu, birikimli hatalara son derece açıktı ve yolculuğun nihai sonucunu büyük ölçüde etkiledi.
                        </p>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-bolt mr-2"></i>Fırtına Sistemleri ve Kaotik Hava Olayları
                    </h4>
                    
                    <div class="relative h-64 flex items-center justify-center mb-6 bg-slate-900/30 rounded-lg">
                        <div class="storm-effect absolute">
                            <span class="text-6xl text-blue-500">🌀</span>
                        </div>
                        <div class="orbit-1 absolute text-purple-400">
                            <span class="text-2xl">☁️</span>
                        </div>
                        <div class="orbit-2 absolute text-red-400">
                            <span class="text-2xl">⛈️</span>
                        </div>
                        <div class="orbit-3 absolute text-green-400">
                            <span class="text-2xl">🌊</span>
                        </div>
                    </div>
                    
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="bg-slate-900/50 rounded-lg p-6 text-center border border-blue-500/30 hover:scale-105 transition-transform">
                            <div class="bg-blue-600/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-thermometer-half text-blue-400"></i>
                            </div>
                            <h5 class="font-semibold text-blue-400 mb-3">Tropikal Siklon Oluşumu</h5>
                            <p class="text-sm text-gray-300 mb-3">
                                Atlas Okyanusu'nda siklon oluşumu, 15. yüzyılda keşif rotalarını doğrudan etkileyen kaotik bir fenomendi.
                            </p>
                            <div class="bg-slate-800/50 rounded p-2 mb-2">
                                <code class="text-xs text-blue-400">P(siklon) = f(T_deniz, $\omega$, RH)</code>
                            </div>
                            <div class="space-y-1 text-sm">
                                <p class="text-gray-300">Deniz yüzey sıcaklığı >26.5°C</p>
                                <p class="text-gray-300">Düşük dikey rüzgar kesmesi ($\omega$)</p>
                                <p class="text-gray-300">Yüksek bağıl nem (RH >80%)</p>
                            </div>
                        </div>

                        <div class="bg-slate-900/50 rounded-lg p-6 text-center border border-purple-500/30 hover:scale-105 transition-transform">
                            <div class="bg-purple-600/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-globe text-purple-400"></i>
                            </div>
                            <h5 class="font-semibold text-purple-400 mb-3">Coriolis Etkisi</h5>
                            <p class="text-sm text-gray-300 mb-3">
                                Dünya'nın dönüşü nedeniyle hareket eden cisimler üzerinde oluşan saptırıcı kuvvet, okyanus akıntıları ve rüzgarlar üzerinde etkilidir.
                            </p>
                            <div class="bg-slate-800/50 rounded p-2 mb-2">
                                <code class="text-xs text-purple-400">$$\mathbf{F}_c = -2m(\mathbf{\Omega} \times \mathbf{v})$$</code>
                            </div>
                            <div class="space-y-1 text-sm">
                                <p class="text-gray-300">Enlem: 15°-30°N (Ticaret rüzgarları bölgesi) kritik</p>
                                <p class="text-gray-300">Dönme ivmesi: $\Omega = 7.29 \times 10^{-5}$ rad/s</p>
                                <p class="text-gray-300">Sağa saptırma (Kuzey Yarımküre)</p>
                            </div>
                        </div>

                        <div class="bg-slate-900/50 rounded-lg p-6 text-center border border-green-500/30 hover:scale-105 transition-transform">
                            <div class="bg-green-600/20 rounded-full w-12 h-12 flex items-center justify-center mx-auto mb-3">
                                <i class="fas fa-random text-green-400"></i>
                            </div>
                            <h5 class="font-semibold text-green-400 mb-3">Stokastik Gürültü Modeli</h5>
                            <p class="text-sm text-gray-300 mb-3">
                                Gemi rotasının hava ve akıntıların rastgele dalgalanmalarına maruz kalması, sistemin kaotik doğasını güçlendirir.
                            </p>
                            <div class="bg-slate-800/50 rounded p-2 mb-2">
                                <code class="text-xs text-green-400">$$d\mathbf{X}(t) = \mathbf{f}(\mathbf{X}(t))dt + \epsilon d\mathbf{W}(t)$$</code>
                            </div>
                            <div class="space-y-1 text-sm">
                                <p class="text-gray-300">$\mathbf{X}(t)$: Sistem durumu (konum, hız)</p>
                                <p class="text-gray-300">$\epsilon$: Stokastik pertürbasyon şiddeti (gürültü genliği)</p>
                                <p class="text-gray-300">$d\mathbf{W}(t)$: Wiener süreci (rastgelelik)</p>
                                <p class="text-gray-300">Öngörülemez ve düzensiz hareket</p>
                            </div>
                        </div>
                    </div>

                    <div class="mt-6 p-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-lg border border-blue-500/30">
                        <h5 class="text-lg font-semibold text-blue-400 mb-3">
                            <i class="fas fa-ship mr-2"></i>1492 Yolculuğunda Hava Koşulları
                        </h5>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div>
                                <h6 class="text-purple-400 font-medium mb-2">Ticaret Rüzgarları (Trade Winds)</h6>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>Enlem:</strong> Yaklaşık 10°-30°N arası</li>
                                    <li>• <strong>Yön:</strong> Kuzeydoğu'dan Güneybatı'ya</li>
                                    <li>• <strong>Hız:</strong> 15-25 knot (sabiti olmayan değişkenlik)</li>
                                    <li>• <strong>Avantaj:</strong> Columbus'un Batı'ya yolculuğunu kolaylaştırdı</li>
                                </ul>
                            </div>
                            <div>
                                <h6 class="text-green-400 font-medium mb-2">Kaotik Faktörler</h6>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• <strong>Doldrums (Sakin Enlemler):</strong> Ekvator yakınında rüzgarsız bölgeler</li>
                                    <li>• <strong>Squall Lines (Hava Çizgileri):</strong> Ani, şiddetli fırtınalar</li>
                                    <li>• <strong>El Niño/La Niña:</strong> Atlantik siklon aktivitesini etkileyen iklim modelleri</li>
                                    <li>• <strong>Mikro-hava:</strong> Yerel türbülans ve girdaplar</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="lorenz-simulasyon" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">Gerçek 3D Lorenz Atraktörü</h3>
                
                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-xl font-semibold mb-4 text-center">
                        <i class="fas fa-cube mr-2"></i>Columbus Yolculuğunun Üç Boyutlu Kaotik Dinamiği
                    </h4>
                    
                    <div class="three-container bg-slate-900/50 rounded-lg mb-6 border border-purple-500/30">
                        <div id="lorenz3D" class="w-full h-full relative">
                            <div class="absolute top-4 left-4 bg-black/80 rounded p-2 text-xs z-10">
                                <p class="text-green-400">🟢 Gerçek zamanlı 3D simülasyon</p>
                                <p class="text-blue-400">🔵 Otomatik kamera rotasyonu</p>
                                <p class="text-purple-400">🟣 Renkli gradient trail</p>
                            </div>
                        </div>
                    </div>

                    <div class="grid md:grid-cols-3 gap-4 text-center mb-6">
                        <div class="bg-slate-900/50 rounded-lg p-4 border border-red-500/30">
                            <div class="flex items-center justify-center mb-2">
                                <div class="w-4 h-4 bg-red-400 rounded mr-2"></div>
                                <p class="text-sm text-gray-400">X Ekseni</p>
                            </div>
                            <p class="text-lg font-semibold text-red-400">Ekonomik Faktörler</p>
                            <p class="text-xs text-gray-500">Finansman, ticaret potansiyeli, kaynak tahsisi</p>
                        </div>
                        <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/30">
                            <div class="flex items-center justify-center mb-2">
                                <div class="w-4 h-4 bg-green-400 rounded mr-2"></div>
                                <p class="text-sm text-gray-400">Y Ekseni</p>
                            </div>
                            <p class="text-lg font-semibold text-green-400">Politik Dinamikler</p>
                            <p class="text-xs text-gray-500">Kraliyet desteği, uluslararası rekabet, imparatorluk hırsı</p>
                        </div>
                        <div class="bg-slate-900/50 rounded-lg p-4 border border-blue-500/30">
                            <div class="flex items-center justify-center mb-2">
                                <div class="w-4 h-4 bg-blue-400 rounded mr-2"></div>
                                <p class="text-sm text-gray-400">Z Ekseni</p>
                            </div>
                            <p class="text-lg font-semibold text-blue-400">Teknolojik Gelişim</p>
                            <p class="text-xs text-gray-500">Navigasyon, kartografi, gemi teknolojisi (örneğin karavel)</p>
                        </div>
                    </div>

                    <div class="mt-6 p-6 bg-gradient-to-r from-blue-900/20 to-purple-900/20 rounded-lg border border-purple-500/30">
                        <h5 class="text-center text-lg font-semibold text-purple-400 mb-3">Lorenz Denklem Sistemi</h5>
                        <div class="grid md:grid-cols-3 gap-4 text-center">
                            <div class="bg-slate-900/30 rounded p-3">
                                <code class="text-red-400 block mb-1">$$\frac{dx}{dt} = \sigma(y-x)$$</code>
                                <p class="text-xs text-gray-400">Ekonomik ve politik faktörler arasındaki etkileşim hızı</p>
                            </div>
                            <div class="bg-slate-900/30 rounded p-3">
                                <code class="text-green-400 block mb-1">$$\frac{dy}{dt} = x(\rho-z)-y$$</code>
                                <p class="text-xs text-gray-400">Politik motivasyonun ekonomik ve teknolojik gelişime etkisi</p>
                            </div>
                            <div class="bg-slate-900/30 rounded p-3">
                                <code class="text-blue-400 block mb-1">$$\frac{dz}{dt} = xy-\beta z$$</code>
                                <p class="text-xs text-gray-400">Teknolojik gelişimin yayılma ve sönüm hızı</p>
                            </div>
                        </div>
                        <div class="text-center text-sm text-gray-400 mt-4">
                            **Parametreler:** $\sigma = 10$ (Prandtl sayısı - sosyal değişim hızı), $\rho = 28$ (Rayleigh sayısı - keşif motivasyonu eşiği), $\beta = 8/3$ (geometrik faktör - kaynak tüketimi/teknoloji amortismanı)
                        </div>
                    </div>

                    <div class="grid md:grid-cols-2 gap-4 mt-6">
                        <button onclick="resetLorenz3D()" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg transition-colors font-medium">
                            <i class="fas fa-redo mr-2"></i>3D Simülasyonu Sıfırla
                        </button>
                        <button onclick="toggleLorenz3D()" class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors font-medium">
                            <i class="fas fa-pause mr-2"></i>Durdur/Başlat
                        </button>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-xl font-semibold mb-6 text-center">
                        <i class="fas fa-chart-area mr-2"></i>2D Faz Uzayı Projeksiyonu (X-Y Düzlemi)
                    </h4>
                    <div class="bg-slate-900/50 rounded-lg p-4 mb-4">
                        <canvas id="phaseSpaceCanvas" class="w-full h-96 rounded-lg"></canvas>
                    </div>
                    <div class="grid md:grid-cols-2 gap-4 mb-6">
                        <button onclick="startPhaseAnimation()" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg transition-colors font-medium">
                            <i class="fas fa-play mr-2"></i>2D Simülasyonu Başlat
                        </button>
                        <button onclick="resetPhaseAnimation()" class="bg-purple-600 hover:bg-purple-700 px-6 py-3 rounded-lg transition-colors font-medium">
                            <i class="fas fa-redo mr-2"></i>2D Sıfırla
                        </button>
                    </div>
                    
                    <div class="bg-blue-900/20 rounded-lg p-6 border border-blue-500/30">
                        <h5 class="text-blue-400 font-semibold mb-3">
                            <i class="fas fa-info-circle mr-2"></i>Faz Uzayı Yorumu
                        </h5>
                        <p class="text-sm text-gray-300 mb-4">
                            Her nokta, belirli bir andaki ekonomik, politik ve teknolojik 
                            koşulların kombinasyonunu temsil eder. Yörüngeler, bu faktörlerin zaman içindeki evrimini gösterir.
                        </p>
                        <div class="grid md:grid-cols-2 gap-4 text-sm">
                            <div>
                                <h6 class="text-purple-400 font-medium mb-2">Başarılı Keşif Bölgesi</h6>
                                <ul class="text-gray-300 space-y-1">
                                    <li>• Yüksek ekonomik destek (X pozitif)</li>
                                    <li>• Güçlü politik backing (Y pozitif)</li>
                                    <li>• İleri teknoloji (Z pozitif)</li>
                                    <li>• Stabil çekim noktası (attraktöre yakın yörüngeler)</li>
                                </ul>
                            </div>
                            <div>
                                <h6 class="text-red-400 font-medium mb-2">Başarısızlık Bölgesi</h6>
                                <ul class="text-gray-300 space-y-1">
                                    <li>• Yetersiz finansman (X negatif/düşük)</li>
                                    <li>• Zayıf politik destek (Y negatif/düşük)</li>
                                    <li>• Eski teknoloji (Z negatif/düşük)</li>
                                    <li>• Kaotik çekim noktası (attraktörden uzaklaşan yörüngeler veya düzensiz salınımlar)</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="bifurkasyon" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">Tarihsel Bifurkasyon Diyagramı</h3>
                
                <div class="bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-xl p-8 border border-purple-700/50">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-code-branch mr-2"></i>Kritik Çatallanma Noktaları
                    </h4>
                    
                    <div class="bg-slate-900/50 rounded-lg p-4 mb-6">
                        <canvas id="bifurcationCanvas" class="w-full h-96 rounded-lg"></canvas>
                    </div>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-slate-800/50 rounded-lg p-6 border border-blue-500/30">
                            <h5 class="text-lg font-semibold mb-3 text-blue-400">
                                <i class="fas fa-balance-scale mr-2"></i>$r < 3.0$: Stabil Dönem (Örneğin, 1000-1450)
                            </h5>
                            <ul class="space-y-3 text-sm">
                                <li class="flex items-start space-x-3">
                                    <i class="fas fa-castle text-blue-400 mt-1"></i>
                                    <div>
                                        <p class="font-medium">Feodal sistemin dengeleri</p>
                                        <p class="text-xs text-gray-400">Sabit hiyerarşi, düşük inovasyon, yavaş değişim</p>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-3">
                                    <i class="fas fa-route text-blue-400 mt-1"></i>
                                    <div>
                                        <p class="font-medium">Öngörülebilir ticaret rotaları</p>
                                        <p class="text-xs text-gray-400">İpek Yolu, Baharat Yolu gibi kararlı ve bilinen ağlar</p>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-3">
                                    <i class="fas fa-cog text-blue-400 mt-1"></i>
                                    <div>
                                        <p class="font-medium">Durağan teknolojik gelişim</p>
                                        <p class="text-xs text-gray-400">Yavaş, kademeli değişim, radikal yeniliklerin azlığı</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                        <div class="bg-slate-800/50 rounded-lg p-6 border border-red-500/30">
                            <h5 class="text-lg font-semibold mb-3 text-red-400">
                                <i class="fas fa-bolt mr-2"></i>$r > 3.57$: Kaos Başlangıcı (Örneğin, 1453-1500)
                            </h5>
                            <ul class="space-y-3 text-sm">
                                <li class="flex items-start space-x-3">
                                    <i class="fas fa-palette text-red-400 mt-1"></i>
                                    <div>
                                        <p class="font-medium">Rönesans patlaması</p>
                                        <p class="text-xs text-gray-400">Sanat, bilim, felsefe ve düşünce devrimleri, entelektüel karmaşıklık</p>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-3">
                                    <i class="fas fa-globe-americas text-red-400 mt-1"></i>
                                    <div>
                                        <p class="font-medium">Coğrafi keşiflerin hızlanması</p>
                                        <p class="text-xs text-gray-400">Afrika, Amerika, Asya'ya yeni ve tehlikeli deniz rotaları arayışı</p>
                                    </div>
                                </li>
                                <li class="flex items-start space-x-3">
                                    <i class="fas fa-print text-red-400 mt-1"></i>
                                    <div>
                                        <p class="font-medium">Teknolojik devrim</p>
                                        <p class="text-xs text-gray-400">Matbaa, gelişmiş pusula, usturlap, karavel gibi yenilikler</p>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="space-y-6">
                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                        <div class="flex flex-col sm:flex-row items-center justify-between mb-6">
                            <h5 class="text-2xl font-semibold text-blue-400 text-center sm:text-left mb-4 sm:mb-0">
                                <i class="fas fa-flag-checkered mr-2"></i>1453: Konstantinopolis'in Düşüşü
                            </h5>
                            <span class="bg-blue-600/20 px-4 py-2 rounded-full text-lg font-bold border border-blue-500/30">r = 3.2 (Periyodik Salınım Başlangıcı)</span>
                        </div>
                        <p class="text-gray-300 mb-6 text-lg">
                            **İlk büyük bifurkasyon:** Doğu-Batı ticaret yollarının kapanması, 
                            Avrupa'yı alternatif çözümler aramaya zorladı. Bu, sistemde yeni, periyodik ama daha karmaşık döngülerin başladığını gösterir.
                        </p>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-red-500/30">
                                <h6 class="text-red-400 font-semibold mb-2">
                                    <i class="fas fa-times-circle mr-2"></i>Kapalı Yol: Status Quo
                                </h6>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• İpek Yolu ve Baharat Yolu bloke edildi</li>
                                    <li>• Osmanlı kontrolü arttı, Avrupa'ya doğrudan erişim engellendi</li>
                                    <li>• Baharat fiyatları %400 yükseldi, ekonomik kriz ve enflasyon</li>
                                    <li>• Avrupa'da daralma ve içe kapanma riski</li>
                                </ul>
                                <p class="text-red-400 text-xs mt-3 font-bold">❌ Geleneksel ticaret yolları imkansız hale geldi</p>
                            </div>
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/30">
                                <h6 class="text-green-400 font-semibold mb-2">
                                    <i class="fas fa-check-circle mr-2"></i>Açık Yol: Deniz Keşifleri
                                </h6>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Portekiz Afrika çevresinde yol arayışına girdi</li>
                                    <li>• İspanya Atlantik'e odaklanmaya başladı (Columbus gibi figürler)</li>
                                    <li>• Navigasyon ve haritacılık teknolojisi hızla gelişti</li>
                                    <li>• Yeni finansman modelleri ve kraliyet destekleri ortaya çıktı</li>
                                </ul>
                                <p class="text-green-400 text-xs mt-3 font-bold">✓ Deniz keşifleri zorunlu hale geldi</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                        <div class="flex flex-col sm:flex-row items-center justify-between mb-6">
                            <h5 class="text-2xl font-semibold text-purple-400 text-center sm:text-left mb-4 sm:mb-0">
                                <i class="fas fa-anchor mr-2"></i>1488: Bartolomeu Dias - Ümit Burnu
                            </h5>
                            <span class="bg-purple-600/20 px-4 py-2 rounded-full text-lg font-bold border border-purple-500/30">r = 3.5 (Periyot Katlanması Yoğunlaştı)</span>
                        </div>
                        <p class="text-gray-300 mb-6 text-lg">
                            **İkinci bifurkasyon:** Afrika'nın güneyi aşıldı ve Doğu'ya deniz yolu kanıtlandı. Bu, sistemde daha sık ve karmaşık periyot katlanmaları yaşandığı, iki farklı keşif stratejisinin daha belirgin hale geldiği bir dönemi işaret eder.
                        </p>
                        <div class="grid md:grid-cols-2 gap-4">
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-blue-500/30">
                                <h6 class="text-blue-400 font-semibold mb-2">
                                    <i class="fas fa-compass mr-2"></i>Doğu Rotası (Portekiz)
                                </h6>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Vasco da Gama'nın Hindistan'a doğrudan deniz yolu (1498)</li>
                                    <li>• Uzun ama bilinen kıyılar boyunca güvenli ilerleme</li>
                                    <li>• Mevcut ticaret ağlarına kademeli entegrasyon</li>
                                    <li>• Düşük risk, öngörülebilir kazançlar</li>
                                </ul>
                                <p class="text-blue-400 text-xs mt-3">→ Hint Okyanusu baharat ticaretinin kontrolü</p>
                            </div>
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/30">
                                <h6 class="text-green-400 font-semibold mb-2">
                                    <i class="fas fa-ship mr-2"></i>Batı Rotası (İspanya)
                                </h6>
                                <ul class="text-sm text-gray-300 space-y-1">
                                    <li>• Columbus'un Batı'ya doğru riskli önerisi</li>
                                    <li>• Atlas Okyanusu'nu aşma riskleri ve bilinmeyen mesafeler</li>
                                    <li>• Bilinmeyen coğrafyaya doğru yüksek riskli, yüksek ödüllü girişim</li>
                                    <li>• Yeni finansman modelleri (kraliyet ve özel sermaye karışımı)</li>
                                </ul>
                                <p class="text-green-400 text-xs mt-3">→ Amerika kıtasının keşfi ve beklenmedik sonuçlar</p>
                            </div>
                        </div>
                    </div>

                    <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                        <div class="flex flex-col sm:flex-row items-center justify-between mb-6">
                            <h5 class="text-2xl font-semibold text-green-400 text-center sm:text-left mb-4 sm:mb-0">
                                <i class="fas fa-globe-americas mr-2"></i>1492: Columbus'un Kaotik Kararı
                            </h5>
                            <span class="bg-green-600/20 px-4 py-2 rounded-full text-lg font-bold border border-green-500/30">r = 3.8 (Tam Kaotik Rejim)</span>
                        </div>
                        <p class="text-gray-300 mb-6 text-lg">
                            **Tam kaotik bifurkasyon:** Columbus'un yolculuğu, navigasyon hataları, tesadüfler ve beklenmedik hava koşullarıyla doluydu. Bu, sonsuz farklı olasılık yaratabilirdi ve sistem tam anlamıyla öngörülemez bir duruma geçti.
                        </p>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-yellow-500/30">
                                <h6 class="text-yellow-400 font-semibold mb-2">Olasılık 1: 28°N Enlemi</h6>
                                <div class="text-center">
                                    <div class="text-3xl mb-2">🏝️</div>
                                    <p class="text-sm text-gray-300">Daha Kuzeydeki Enlem (Florida Bölgesi)</p>
                                    <p class="text-xs text-yellow-400 mt-2">→ Kuzey Amerika'nın daha erken veya farklı keşfi</p>
                                </div>
                            </div>
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-green-500/30">
                                <h6 class="text-green-400 font-semibold mb-2">Gerçekleşen: 21°N Enlemi</h6>
                                <div class="text-center">
                                    <div class="text-3xl mb-2">🏖️</div>
                                    <p class="text-sm text-gray-300">San Salvador (Karayipler)</p>
                                    <p class="text-xs text-green-400 mt-2">✓ Gerçek varış noktası, mevcut dünya düzeninin temeli</p>
                                </div>
                            </div>
                            <div class="bg-slate-900/50 rounded-lg p-4 border border-blue-500/30">
                                <h6 class="text-blue-400 font-semibold mb-2">Olasılık 2: 15°N Enlemi</h6>
                                <div class="text-center">
                                    <div class="text-3xl mb-2">🌴</div>
                                    <p class="text-sm text-gray-300">Daha Güneydeki Enlem (Venezuela/Guyana)</p>
                                    <p class="text-xs text-blue-400 mt-2">→ Güney Amerika'nın daha erken veya farklı keşfi</p>
                                </div>
                            </div>
                        </div>
                        <div class="p-6 bg-gradient-to-r from-purple-900/20 to-green-900/20 rounded-lg border border-purple-500/30">
                            <h6 class="text-purple-400 font-semibold mb-3">
                                <i class="fas fa-wind mr-2"></i>Kritik Faktör: Ticaret Rüzgarları
                            </h6>
                            <p class="text-sm text-gray-300 mb-3">
                                Ticaret rüzgarlarının enlemi (15°-25°N) Columbus'un rotasını ve dolayısıyla varış noktasını derinden etkiledi. 
                                Bu doğal fenomenin veya navigasyon hatalarının küçük bir değişikliği, tamamen farklı bir kıtaya ulaşılmasına neden olabilirdi.
                            </p>
                            <div class="grid md:grid-cols-2 gap-4 text-xs">
                                <div class="bg-slate-900/30 rounded p-2">
                                    <p class="text-purple-300"><strong>$\pm 5^\circ$ sapma:</strong> Tamamen farklı kıta veya kayıp</p>
                                    <p class="text-gray-400">Rüzgar veya navigasyon değişikliği = tarih değişikliği</p>
                                </div>
                                <div class="bg-slate-900/30 rounded p-2">
                                    <p class="text-green-300"><strong>Gerçekleşen:</strong> Karayipler</p>
                                    <p class="text-gray-400">Optimal rüzgar koşulları ve şans eseri başarılı iniş</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        ---

        <section id="sonuc" class="content-section hidden">
            <div class="space-y-8">
                <h3 class="text-3xl font-bold mb-8 text-center gradient-text">Kaotik Tarih Dersleri</h3>
                
                <div class="bg-gradient-to-br from-slate-800/50 to-purple-900/30 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <div class="max-w-4xl mx-auto text-center mb-8">
                        <p class="text-2xl text-gray-300 leading-relaxed mb-6">
                            Amerika'nın keşfi, kaos teorisinin tarihsel olaylara mükemmel uygulamasıdır. 
                            Her küçük karar, her tesadüf, her hava değişimi dünya tarihinin akışını değiştirmiştir.
                        </p>
                        <p class="text-lg text-purple-400 italic">
                            "Tarih, deterministik yasalarla yönetilen ancak başlangıç koşullarına aşırı duyarlı kaotik bir sistemdir."
                        </p>
                    </div>

                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="text-center">
                            <div class="bg-blue-500/20 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4 border border-blue-500/30">
                                <i class="fas fa-infinity text-3xl text-blue-400"></i>
                            </div>
                            <h4 class="text-xl font-semibold mb-3 text-blue-400">Sonsuz Olasılık</h4>
                            <p class="text-gray-400">
                                Faz uzayında sonsuz yörünge, tarihte tek gerçekleşme. 
                                Her an farklı bir gelecek mümkündü, ancak sadece biri gerçekleşti.
                            </p>
                        </div>

                        <div class="text-center">
                            <div class="bg-purple-500/20 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4 border border-purple-500/30">
                                <i class="fas fa-dove text-3xl text-purple-400"></i>
                            </div>
                            <h4 class="text-xl font-semibold mb-3 text-purple-400">Kelebek Etkisi</h4>
                            <p class="text-gray-400">
                                Lyapunov üstelleri ile ölçülen hassas bağımlılık. 
                                $\lambda > 0 \rightarrow$ Küçük değişimler zamanla devasa sonuçlara yol açar.
                            </p>
                        </div>

                        <div class="text-center">
                            <div class="bg-green-500/20 rounded-full w-24 h-24 flex items-center justify-center mx-auto mb-4 border border-green-500/30">
                                <i class="fas fa-code-branch text-3xl text-green-400"></i>
                            </div>
                            <h4 class="text-xl font-semibold mb-3 text-green-400">Çatallanmalar</h4>
                            <p class="text-gray-400">
                                Her kritik '$r$' değerinde yeni tarihsel patika. 
                                Bifurkasyon noktaları, sistemin gelecekteki davranışını kökten değiştirir.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-graduation-cap mr-2"></i>Bilimsel Özet ve Bulgular
                    </h4>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div>
                            <h5 class="text-lg font-semibold text-blue-400 mb-3">
                                <i class="fas fa-microscope mr-2"></i>Metodoloji
                            </h5>
                            <p class="text-gray-300 leading-relaxed">
                                Bu çalışmada, kaos teorisinin matematiksel araçları kullanılarak Amerika'nın keşfi analiz edilmiştir:
                            </p>
                            <ul class="mt-3 space-y-2 text-sm text-gray-300">
                                <li>• <strong>Lorenz denklemleri:</strong> Üç boyutlu dinamiklerin modellenmesi (ekonomik, politik, teknolojik faktörler)</li>
                                <li>• <strong>Lojistik harita:</strong> Periyot katlanması ve kaosa geçişin incelenmesi</li>
                                <li>• <strong>Lyapunov üstelleri:</strong> Hassas bağımlılığın ve öngörülemezliğin nicel ölçümü</li>
                                <li>• <strong>Bifurkasyon teorisi:</strong> Kritik tarihsel geçiş noktalarının tespiti</li>
                                <li>• <strong>Faz uzayı analizi:</strong> Sistem durumlarının zaman içindeki evriminin görselleştirilmesi</li>
                            </ul>
                        </div>
                        <div>
                            <h5 class="text-lg font-semibold text-purple-400 mb-3">
                                <i class="fas fa-chart-bar mr-2"></i>Bulgular
                            </h5>
                            <div class="space-y-3">
                                <div class="bg-slate-900/50 rounded p-3">
                                    <p class="text-sm"><strong class="text-purple-400">$r \approx 3.8$:</strong> Tam kaotik rejimde bir tarihsel sistem parametresi</p>
                                    <p class="text-xs text-gray-400">1492 dönemi, lojistik harita modelinde kaotik rejime denk geliyor.</p>
                                </div>
                                <div class="bg-slate-900/50 rounded p-3">
                                    <p class="text-sm"><strong class="text-blue-400">$\lambda \approx 0.9/\text{yıl}$:</strong> Yüksek Lyapunov üsteli, hızlı diverjans</p>
                                    <p class="text-xs text-gray-400">Tarihsel yörüngelerin hızla birbirinden ayrıldığını gösterir.</p>
                                </div>
                                <div class="bg-slate-900/50 rounded p-3">
                                    <p class="text-sm"><strong class="text-green-400">$D \approx 2.7$:</strong> Fraktal boyut (Lorenz attraktörü için)</p>
                                    <p class="text-xs text-gray-400">Tarihsel sistemin karmaşıklığına dair bir gösterge.</p>
                                </div>
                                <div class="bg-slate-900/50 rounded p-3">
                                    <p class="text-sm"><strong class="text-yellow-400">%104 artış:</strong> Shannon entropisi (1492 öncesi/sonrası)</p>
                                    <p class="text-xs text-gray-400">Dünya sistemi kompleksitesi ve bilgi içeriği neredeyse iki katına çıktı.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div>
                        <h5 class="text-lg font-semibold text-green-400 mb-3">
                            <i class="fas fa-lightbulb mr-2"></i>Ana Sonuç
                        </h5>
                        <div class="bg-gradient-to-r from-green-900/20 to-blue-900/20 rounded-lg p-6 border border-green-500/30">
                            <p class="text-gray-300 leading-relaxed text-lg">
                                Tarih, deterministik yasalarla yönetilen ancak başlangıç koşullarına aşırı duyarlı 
                                **kaotik bir sistemdir**. Amerika'nın keşfi, bu sistemin en dramatik örneklerinden biridir.
                                Küçük pertürbasyonlar katlanarak büyümüş ve bugünkü dünya düzenini şekillendirmiştir.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-calculator mr-2"></i>Matematiksel Kanıtlar
                    </h4>
                    
                    <div class="grid md:grid-cols-2 gap-6">
                        <div class="bg-slate-900/50 rounded-lg p-6 border border-blue-500/30">
                            <h5 class="text-lg font-semibold text-blue-400 mb-4">
                                <i class="fas fa-info-circle mr-2"></i>Shannon Entropisi ($H$)
                            </h5>
                            <div class="bg-slate-800/50 rounded p-4 mb-4 text-center">
                                <code class="text-purple-400 text-lg">$$H = -\sum_{i=1}^N p_i \log_2(p_i)$$</code>
                            </div>
                            <p class="text-sm text-gray-300 mb-4">
                                Bir sistemin belirsizliğini veya bilgi içeriğini ölçer. $p_i$ bir olayın olasılığıdır.
                                1492 sonrası, küresel etkileşimlerin artmasıyla sistemin potansiyel bilgi içeriği katlanarak arttı.
                            </p>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">1492 öncesi (izole kıtalar):</span>
                                    <span class="text-blue-400 font-bold">$H \approx 2.3$ bit (örneğin, 5-6 ana kültür bloğu)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">1492 sonrası (küresel ağ):</span>
                                    <span class="text-green-400 font-bold">$H \approx 4.7$ bit (örneğin, 20-25 ana etkileşim bloğu)</span>
                                </div>
                                <div class="bg-green-900/20 rounded p-2 text-center">
                                    <span class="text-green-400 font-bold">Enformasyon patlaması: Yaklaşık %104 artış</span>
                                </div>
                            </div>
                            <p class="text-xs text-gray-400 mt-3">
                                Dünya sisteminin kompleksitesi ve öngörülemezliği iki katına çıktı.
                            </p>
                        </div>
                        
                        <div class="bg-slate-900/50 rounded-lg p-6 border border-purple-500/30">
                            <h5 class="text-lg font-semibold text-purple-400 mb-4">
                                <i class="fas fa-project-diagram mr-2"></i>Kolmogorov Karmaşıklığı ($K(x)$)
                            </h5>
                            <div class="bg-slate-800/50 rounded p-4 mb-4 text-center">
                                <code class="text-blue-400 text-lg">$$K(x) = \min\{|P| : U(P) = x\}$$</code>
                            </div>
                            <p class="text-sm text-gray-300 mb-4">
                                Bir veri dizisini (tarihsel olaylar zincirini) oluşturmak için gereken en kısa algoritmanın uzunluğu. 
                                $K(x)$ arttıkça sistem daha karmaşık ve rastgele kabul edilir (computational irreducibility).
                            </p>
                            <div class="space-y-3">
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">Ticaret ağları $K_{1450}$ (Avrupa-Asya):</span>
                                    <span class="text-blue-400 font-bold">$\approx 10^3$ bit (örneğin, 1000 elemanlık algoritma)</span>
                                </div>
                                <div class="flex justify-between items-center">
                                    <span class="text-gray-300">Küresel sistem $K_{1550}$ (Yeni Dünya dahil):</span>
                                    <span class="text-purple-400 font-bold">$\approx 10^6$ bit (örneğin, 1.000.000 elemanlık algoritma)</span>
                                </div>
                                <div class="bg-purple-900/20 rounded p-2 text-center">
                                    <span class="text-purple-400 font-bold">Karmaşıklık: Yaklaşık 1000 kat artış</span>
                                </div>
                            </div>
                            <p class="text-xs text-gray-400 mt-3">
                                Dünyayı tanımlamak ve geleceğini tahmin etmek için gereken minimum bilgi muazzam arttı.
                            </p>
                        </div>
                    </div>
                </div>

                <div class="bg-slate-800/50 backdrop-blur-sm rounded-xl p-8 border border-slate-700">
                    <h4 class="text-2xl font-semibold mb-6 text-center">
                        <i class="fas fa-book mr-2"></i>Akademik Kaynaklar
                    </h4>
                    <div class="grid md:grid-cols-2 gap-4">
                        <div class="space-y-4">
                            <div class="flex items-start space-x-3 p-3 bg-slate-900/30 rounded hover:bg-slate-900/50 transition-colors">
                                <i class="fas fa-book text-blue-400 mt-1"></i>
                                <div>
                                    <p class="font-semibold text-blue-400">Lorenz, E. (1963)</p>
                                    <p class="text-sm text-gray-300">"Deterministic Nonperiodic Flow"</p>
                                    <p class="text-xs text-gray-500">Journal of the Atmospheric Sciences, 20(2), 130-141</p>
                                </div>
                            </div>
                            
                            <div class="flex items-start space-x-3 p-3 bg-slate-900/30 rounded hover:bg-slate-900/50 transition-colors">
                                <i class="fas fa-book text-purple-400 mt-1"></i>
                                <div>
                                    <p class="font-semibold text-purple-400">Gleick, J. (1987)</p>
                                    <p class="text-sm text-gray-300">Chaos: Making a New Science</p>
                                    <p class="text-xs text-gray-500">Viking Penguin Inc.</p>
                                </div>
                            </div>
                            
                            <div class="flex items-start space-x-3 p-3 bg-slate-900/30 rounded hover:bg-slate-900/50 transition-colors">
                                <i class="fas fa-book text-green-400 mt-1"></i>
                                <div>
                                    <p class="font-semibold text-green-400">Prigogine, I. & Stengers, I. (1984)</p>
                                    <p class="text-sm text-gray-300">Order Out of Chaos</p>
                                    <p class="text-xs text-gray-500">Bantam Books</p>
                                </div>
                            </div>
                        </div>
                        <div class="space-y-4">
                            <div class="flex items-start space-x-3 p-3 bg-slate-900/30 rounded hover:bg-slate-900/50 transition-colors">
                                <i class="fas fa-book text-yellow-400 mt-1"></i>
                                <div>
                                    <p class="font-semibold text-yellow-400">Crosby, A.W. (2003)</p>
                                    <p class="text-sm text-gray-300">The Columbian Exchange</p>
                                    <p class="text-xs text-gray-500">Praeger Publishers</p>
                                </div>
                            </div>
                            
                            <div class="flex items-start space-x-3 p-3 bg-slate-900/30 rounded hover:bg-slate-900/50 transition-colors">
                                <i class="fas fa-book text-red-400 mt-1"></i>
                                <div>
                                    <p class="font-semibold text-red-400">Feigenbaum, M. (1978)</p>
                                    <p class="text-sm text-gray-300">"Quantitative universality for a class of nonlinear transformations"</p>
                                    <p class="text-xs text-gray-500">Journal of Statistical Physics, 19(1), 25-52</p>
                                </div>
                            </div>

                            <div class="flex items-start space-x-3 p-3 bg-slate-900/30 rounded hover:bg-slate-900/50 transition-colors">
                                <i class="fas fa-book text-cyan-400 mt-1"></i>
                                <div>
                                    <p class="font-semibold text-cyan-400">Mandelbrot, B. (1982)</p>
                                    <p class="text-sm text-gray-300">The Fractal Geometry of Nature</p>
                                    <p class="text-xs text-gray-500">W.H. Freeman and Company</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="mt-8 p-8 bg-gradient-to-r from-blue-900/30 to-purple-900/30 rounded-xl border border-blue-700/50">
                <blockquote class="text-center">
                    <p class="text-2xl text-gray-300 mb-4 italic leading-relaxed">
                        <span class="text-blue-400 font-semibold">"Tarih tekerrürden ibarettir"</span>
                        derler, ama kaos teorisi bize gösteriyor ki
                        <span class="text-purple-400 font-semibold">her tekerrür aslında yeni bir başlangıçtır.</span>
                    </p>
                    <p class="text-lg text-gray-400 mt-6">
                        Başlangıç koşullarındaki en küçük fark bile tamamen farklı bir geleceğe yol açar.
                    </p>
                    <footer class="mt-6">
                        <p class="text-sm text-purple-400">— Kaotik Tarih Teorisi</p>
                    </footer>
                </blockquote>
            </div>
        </section>
    </main>

    <footer class="bg-slate-900/90 backdrop-blur-lg border-t border-slate-800 mt-16">
        <div class="max-w-7xl mx-auto px-4 py-12 sm:px-6 lg:px-8">
            <div class="text-center">
                <div class="mb-6">
                    <h3 class="text-2xl font-bold gradient-text mb-2">Amerika'nın Keşfinde Kaotik Dinamikler</h3>
                    <p class="text-gray-400">Kaos teorisi perspektifinden tarihsel analiz</p>
                </div>
                
                <div class="border-t border-slate-700 pt-6">
                    <div class="grid md:grid-cols-3 gap-6 text-sm">
                        <div>
                            <h4 class="font-semibold text-blue-400 mb-2">Matematiksel Modeller</h4>
                            <ul class="text-gray-400 space-y-1">
                                <li>• Lorenz Atraktörü</li>
                                <li>• Bifurkasyon Diyagramları</li>
                                <li>• Lyapunov Üstelleri</li>
                                <li>• Shannon Entropisi</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-purple-400 mb-2">Tarihsel Analiz</h4>
                            <ul class="text-gray-400 space-y-1">
                                <li>• Kritik Karar Noktaları</li>
                                <li>• Kelebek Etkisi</li>
                                <li>• Hassas Bağımlılık</li>
                                <li>• Kaotik Bifurkasyonlar</li>
                            </ul>
                        </div>
                        <div>
                            <h4 class="font-semibold text-green-400 mb-2">Teknoloji</h4>
                            <ul class="text-gray-400 space-y-1">
                                <li>• Three.js 3D Simülasyonlar</li>
                                <li>• Canvas 2D Animasyonlar</li>
                                <li>• İnteraktif Parametreler</li>
                                <li>• Responsive Tasarım</li>
                            </ul>
                        </div>
                    </div>
                </div>
                
                <div class="border-t border-slate-700 pt-6 mt-6">
                    <p class="text-gray-400">
                        © 2024 Ümit Akdeniz | Kaos Teorisi ve Tarihsel Dinamikler
                    </p>
                    <p class="text-xs text-gray-500 mt-2">
                        Bu sunum eğitim amaçlıdır ve bilimsel araştırma metodolojilerini gösterir.
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>
        // --- Helper Functions for Responsive Canvas & DPR ---
        // Bu fonksiyon, bir canvas elemanını ve onun 2D bağlamını (context)
        // cihazın piksel yoğunluğu oranına (DPR) göre ayarlar.
        // Böylece yüksek çözünürlüklü ekranlarda (Retina gibi) grafikler net görünür.
        function setupCanvasForDPR(canvas) {
            const dpr = window.devicePixelRatio || 1; // Cihazın piksel oranını al, yoksa 1 varsay
            const rect = canvas.getBoundingClientRect(); // Canvas'ın CSS boyutlarını al

            // Canvas'ın dahili çözünürlüğünü (piksel sayısını) fiziksel piksellere göre ayarla
            canvas.width = rect.width * dpr;
            canvas.height = rect.height * dpr;

            // 2D çizim bağlamını da aynı oranda ölçekle
            // Bu, sonraki tüm çizim komutlarının doğru ölçekte uygulanmasını sağlar.
            const ctx = canvas.getContext('2d');
            ctx.scale(dpr, dpr);

            // Canvas'ın CSS boyutlarını orijinal boyutunda tutarak,
            // dahili çözünürlük artışının görsel boyutu etkilemesini engeller.
            canvas.style.width = `${rect.width}px`;
            canvas.style.height = `${rect.height}px`;

            // Canvas'ın CSS boyutlarını ve DPR'ı geri döndür
            return { width: rect.width, height: rect.height, dpr: dpr }; 
        }

        // --- Global State and Initialization Flags ---
        // Uygulamanın mevcut durumunu ve farklı bileşenlerin başlatılıp başlatılmadığını tutan değişkenler.
        let currentSection = 'giris';
        let poincareChart = null;
        let bifurcationPreviewChart = null;
        let butterflyAnimationId = null;
        let oceanAnimationId = null;
        let lorenzScene, lorenzCamera, lorenzRenderer, lorenzLine, lorenzMaterial;
        let lorenzAnimationId = null;
        let lorenzPaused = false; // Three.js animasyonunun duraklatılıp duraklatılmadığını kontrol eder
        let phaseSpaceChart = null;
        let phaseAnimationId = null;
        let isPhaseAnimationRunning = false; // 2D faz uzayı animasyonunun çalışıp çalışmadığını kontrol eder
        let bifurcationMainChart = null;

        // Her bir görselleştirme/simülasyonun sadece bir kez başlatılmasını sağlayan bayraklar.
        // Bu, bölüm değiştirildiğinde gereksiz yeniden başlatmaları önler.
        let poincareInitialized = false;
        let bifurcationPreviewInitialized = false;
        let butterflyCanvasInitialized = false;
        let oceanCanvasInitialized = false;
        let lorenz3DInitialized = false;
        let bifurcationMainCanvasInitialized = false;
        let phaseSpaceCanvasInitialized = false;

        // --- Navigation and UI Logic ---
        // Navigasyon butonlarına tıklama olay dinleyicisi ekler.
        document.querySelectorAll('.nav-btn').forEach(button => {
            button.addEventListener('click', function() {
                const sectionId = this.getAttribute('onclick').match(/'(.*?)'/)[1];
                // İlgili bölüme yumuşak kaydırma ile git
                const sectionElement = document.getElementById(sectionId);
                if (sectionElement) {
                    sectionElement.scrollIntoView({ behavior: 'smooth' });
                }
                showSection(sectionId); // Yeni bölümü göster
            });
        });

        // Mobil menüyü açma/kapama işlevi.
        function toggleMobileMenu() {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileMenuIcon = document.getElementById('mobileMenuIcon');
            mobileMenu.classList.toggle('hidden'); // hidden sınıfını ekle/kaldır
            mobileMenuIcon.classList.toggle('fa-bars'); // Hamburger ikonunu kapatma ikonuna dönüştür
            mobileMenuIcon.classList.toggle('fa-times');
        }

        // Belirli bir bölümü gösteren ve diğerlerini gizleyen ana işlev.
        function showSection(sectionId) {
            // Önceki bölümü gizle ve varsa animasyonlarını durdur.
            const oldSection = document.getElementById(currentSection);
            if (oldSection) {
                oldSection.classList.add('hidden');
                stopSectionAnimations(currentSection); // Kaynakları serbest bırakmak için animasyonları durdur
            }

            // Yeni bölümü göster ve animasyonlarını başlat (gerekliyse).
            const newSection = document.getElementById(sectionId);
            if (newSection) {
                newSection.classList.remove('hidden');
                currentSection = sectionId;
                initializeSectionAnimations(sectionId); // Yeni bölümün animasyonlarını başlat
            }

            // MathJax'in yeni bölümdeki denklemleri işlemesini tetikle.
            if (typeof MathJax !== 'undefined') {
                MathJax.typesetPromise().then(() => {
                    // console.log("MathJax typeset complete for new section.");
                }).catch((err) => console.error("MathJax typesetting failed: " + err.message));
            }
        }

        // Bölüm değiştirildiğinde çalışan animasyonları durduran işlev.
        function stopSectionAnimations(sectionId) {
            switch (sectionId) {
                case 'kelebek-etkisi':
                    if (butterflyAnimationId) cancelAnimationFrame(butterflyAnimationId);
                    butterflyAnimationId = null;
                    break;
                case 'deniz-rotalari':
                    if (oceanAnimationId) cancelAnimationFrame(oceanAnimationId);
                    oceanAnimationId = null;
                    break;
                case 'lorenz-simulasyon':
                    if (lorenzAnimationId) cancelAnimationFrame(lorenzAnimationId);
                    lorenzAnimationId = null;
                    lorenzPaused = true; // 3D Lorenz animasyonunu duraklat
                    resetPhaseAnimation(); // 2D faz uzayı animasyonunu durdur ve sıfırla
                    // Three.js kaynaklarını temizle
                    if (lorenzRenderer && lorenzScene) {
                        const container = document.getElementById('lorenz3D');
                        if (container && lorenzRenderer.domElement.parentNode === container) {
                            container.removeChild(lorenzRenderer.domElement);
                        }
                        disposeThreeJsObjects(lorenzScene, lorenzRenderer);
                        // Global referansları temizle
                        lorenzRenderer = null;
                        lorenzScene = null;
                        lorenzCamera = null;
                        lorenzLine = null;
                        lorenzMaterial = null;
                        lorenz3DInitialized = false; // Yeniden başlatmak için bayrağı sıfırla
                    }
                    break;
                // Chart.js örnekleri genellikle yeniden başlatıldığında otomatik olarak yok edilir,
                // bu nedenle burada açıkça durdurmaya gerek yoktur.
                case 'bilimsel-temel':
                    if (poincareChart) {
                        poincareChart.destroy();
                        poincareChart = null;
                        poincareInitialized = false;
                    }
                    break;
                case 'kaotik-parametreler':
                    if (bifurcationPreviewChart) {
                        bifurcationPreviewChart.destroy();
                        bifurcationPreviewChart = null;
                        bifurcationPreviewInitialized = false;
                    }
                    break;
                case 'bifurkasyon':
                    if (bifurcationMainChart) {
                        bifurcationMainChart.destroy();
                        bifurcationMainChart = null;
                        bifurcationMainCanvasInitialized = false;
                    }
                    break;
            }
        }

        // Yeni bölüme geçildiğinde animasyonları ve Chart.js grafiklerini başlatan işlev.
        function initializeSectionAnimations(sectionId) {
            switch (sectionId) {
                case 'bilimsel-temel':
                    if (!poincareInitialized) {
                        initPoincareSection();
                        poincareInitialized = true;
                    }
                    break;
                case 'kaotik-parametreler':
                    if (!bifurcationPreviewInitialized) {
                        initBifurcationPreview();
                        bifurcationPreviewInitialized = true;
                    }
                    break;
                case 'kelebek-etkisi':
                    // Her zaman yeniden başlat, çünkü butterfly etkisi görsel olarak sürekli değişir
                    initButterflyCanvas(); 
                    butterflyCanvasInitialized = true; // Bayrağı true olarak ayarla
                    break;
                case 'deniz-rotalari':
                    // Her zaman yeniden başlat
                    initOceanCanvas(); 
                    oceanCanvasInitialized = true; // Bayrağı true olarak ayarla
                    break;
                case 'lorenz-simulasyon':
                    if (!lorenz3DInitialized) {
                        initLorenz3D();
                        lorenz3DInitialized = true;
                    } else if (lorenzPaused) {
                        toggleLorenz3D(); // Duraklatılmışsa devam et
                    }
                    // 2D Faz Uzayı manuel butonlarla kontrol ediliyor
                    break;
                case 'bifurkasyon':
                    if (!bifurcationMainCanvasInitialized) {
                        initBifurcationCanvas();
                        bifurcationMainCanvasInitialized = true;
                    }
                    break;
            }
        }

        // --- Progress Bar ---
        // Sayfa kaydırıldıkça ilerleme çubuğunu günceller.
        window.addEventListener('scroll', () => {
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const scrollHeight = document.documentElement.scrollHeight || document.body.scrollHeight;
            const clientHeight = document.documentElement.clientHeight || window.innerHeight;
            const scrolled = (scrollTop / (scrollHeight - clientHeight)) * 100;
            document.getElementById('progressBar').style.width = scrolled + '%';
        });

        // --- Academic Simulations and Visualizations ---

        // 1. Poincaré Section Simulation (Bilimsel Temel)
        function initPoincareSection() {
            const canvas = document.getElementById('poincare-section');
            const { width, height } = setupCanvasForDPR(canvas); // DPR'a göre ayarla
            const ctx = canvas.getContext('2d');
            
            if (poincareChart) {
                poincareChart.destroy();
            }

            const poincarePoints = [];
            // 1490-1493 arası tarihsel verileri simüle et
            for (let i = 1490; i <= 1493; i++) {
                let x, y;
                if (i === 1492) {
                    // 1492 için simüle edilmiş kaotik sıçrama (daha geniş dağılım)
                    x = Math.random() * 0.8 + 0.1; 
                    y = Math.random() * 0.8 + 0.1;
                } else {
                    // Diğer yıllar için daha stabil/kümelenmiş
                    x = 0.5 + (Math.random() - 0.5) * 0.2;
                    y = 0.5 + (Math.random() - 0.5) * 0.2;
                }
                poincarePoints.push({ x: x, y: y, year: i });
            }

            poincareChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'Tarihsel Dönemler',
                        data: poincarePoints,
                        backgroundColor: function(context) {
                            return context.raw.year === 1492 ? 'rgba(239, 68, 68, 0.8)' : 'rgba(59, 130, 246, 0.8)';
                        },
                        borderColor: 'rgba(255, 255, 255, 0.2)',
                        borderWidth: 1,
                        pointRadius: 5,
                        pointHoverRadius: 7
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            title: { display: true, text: 'Ekonomik Karmaşıklık (X)', color: '#cbd5e1' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        },
                        y: {
                            type: 'linear',
                            title: { display: true, text: 'Politik İstikrarsızlık (Y)', color: '#cbd5e1' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `Yıl: ${context.raw.year}, X: ${context.parsed.x.toFixed(2)}, Y: ${context.parsed.y.toFixed(2)}`;
                                }
                            }
                        }
                    }
                }
            });
        }
        
        // 2. Logistic Map Bifurcation Preview (Kaotik Parametreler)
        // Lojistik Harita denklem fonksiyonu
        function logisticMap(x, r) {
            return r * x * (1 - x);
        }

        // Lojistik Harita için veri noktaları üreten fonksiyon
        function generateLogisticMapData(r, iterations = 1000, skip = 500) {
            let x = 0.1; // Başlangıç değeri
            let data = [];
            for (let i = 0; i < iterations; i++) {
                x = logisticMap(x, r);
                if (i >= skip) { // İlk birkaç iterasyonu atla (sistemin kararlı duruma gelmesi için)
                    data.push({ x: r, y: x });
                }
            }
            return data;
        }

        // Bifurkasyon Önizleme grafiğini başlatan işlev
        function initBifurcationPreview() {
            const canvas = document.getElementById('bifurcationPreview');
            const { width, height } = setupCanvasForDPR(canvas); // DPR'a göre ayarla
            const ctx = canvas.getContext('2d');

            if (bifurcationPreviewChart) {
                bifurcationPreviewChart.destroy(); // Önceki grafiği yok et
            }

            // Arka plan için tam bifurkasyon verisi oluştur
            let allData = [];
            for (let currentR = 2.5; currentR <= 4.0; currentR += 0.005) {
                allData = allData.concat(generateLogisticMapData(currentR));
            }

            const rSlider = document.getElementById('chaosSlider');
            const rValueSpan = document.getElementById('rValue');
            const chaosDescription = document.getElementById('chaosDescription');
            const initialR = parseFloat(rSlider.value);
            rValueSpan.textContent = initialR.toFixed(3);
            updateChaosDescription(initialR); // İlk açıklamayı güncelle
            const currentRData = generateLogisticMapData(initialR, 1000, 100); // Mevcut r değeri için veri

            bifurcationPreviewChart = new Chart(ctx, {
                type: 'scatter',
                data: {
                    datasets: [
                        {
                            label: 'Bifurkasyon Diyagramı',
                            data: allData,
                            backgroundColor: 'rgba(173, 216, 230, 0.1)', // Arka plan için açık mavi
                            pointRadius: 0.5,
                            pointBorderWidth: 0,
                            showLine: false
                        },
                        {
                            label: `r = ${initialR.toFixed(3)}`,
                            data: currentRData,
                            backgroundColor: 'rgba(255, 255, 255, 0.8)', // Mevcut değer için beyaz
                            pointRadius: 2,
                            pointBorderWidth: 0,
                            showLine: false
                        }
                    ]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            min: 2.5,
                            max: 4.0,
                            title: { display: true, text: 'r (Sistem Karmaşıklık Parametresi)', color: '#cbd5e1' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        },
                        y: {
                            type: 'linear',
                            min: 0,
                            max: 1,
                            title: { display: true, text: 'x (Sistem Durumu)', color: '#cbd5e1' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `r: ${context.parsed.x.toFixed(3)}, x: ${context.parsed.y.toFixed(3)}`;
                                }
                            }
                        }
                    },
                    animation: false // Slider etkileşimi için animasyonu devre dışı bırak
                }
            });

            // Slider değiştiğinde grafik ve açıklamayı güncelle
            rSlider.addEventListener('input', (event) => {
                const r = parseFloat(event.target.value);
                rValueSpan.textContent = r.toFixed(3);
                // Sadece ikinci veri setini (mevcut r değeri) güncelle
                bifurcationPreviewChart.data.datasets[1].data = generateLogisticMapData(r, 1000, 100);
                bifurcationPreviewChart.data.datasets[1].label = `r = ${r.toFixed(3)}`;
                bifurcationPreviewChart.update();
                updateChaosDescription(r);
            });

            // Chaos açıklamasını güncelleyen yardımcı fonksiyon
            function updateChaosDescription(r) {
                let description = '';
                if (r < 3.0) {
                    description = `<strong>r = ${r.toFixed(3)}:</strong> Stabil tek denge noktası. Tarihsel olaylar oldukça öngörülebilir ve tek bir denge durumuna eğilimli.`;
                } else if (r >= 3.0 && r < 3.449) {
                    description = `<strong>r = ${r.toFixed(3)}:</strong> Periyodik çatallanma (iki nokta). Sistemde iki alternatif durum arasında düzenli salınımlar gözlemlenir.`;
                } else if (r >= 3.449 && r < 3.56995) { // Feigenbaum sınırından önce
                    description = `<strong>r = ${r.toFixed(3)}:</strong> Dört nokta ve daha fazla periyot katlanmaları. Sistem daha karmaşık hale gelir, ancak hala periyodiktir.`;
                } else if (r >= 3.56995 && r <= 4.0) {
                    description = `<strong>r = ${r.toFixed(3)}:</strong> Tam kaos. Sistem tamamen öngörülemez hale gelir, başlangıç koşullarındaki en küçük değişiklikler bile tamamen farklı sonuçlara yol açar. Columbus'un dönemi bu aralığa denk gelmektedir.`;
                } else { // 4.0'dan büyük olursa (slider max 4.0 ama genişletilirse)
                    description = `<strong>r = ${r.toFixed(3)}:</strong> Kaotik bölgeye yaklaşım. Sistem karmaşıklığı artıyor, düzensiz davranışlar gözlemlenebilir.`;
                }
                chaosDescription.innerHTML = `<p>${description}</p>`;
            }
        }


        // 3. Butterfly Effect Canvas (Kelebek Etkisi)
        // Lorenz atraktörünün iki yakın başlangıç noktası için ayrışmasını gösteren animasyon
        function initButterflyCanvas() {
            const canvas = document.getElementById('butterflyCanvas');
            const { width, height } = setupCanvasForDPR(canvas); // DPR'a göre ayarla
            const ctx = canvas.getContext('2d');

            // Önceki animasyonu durdur ve durumu sıfırla
            if (butterflyAnimationId) cancelAnimationFrame(butterflyAnimationId);
            let x1 = 0.1, y1 = 0, z1 = 0;
            let x2 = 0.1 + 0.0001, y2 = 0, z2 = 0; // Çok hafif farklı başlangıç noktası
            let points1 = [];
            let points2 = [];
            const maxPoints = 2000; // Çizilecek maksimum nokta sayısı
            const dt = 0.01; // Zaman adımı
            const A = 10; // Lorenz parametresi sigma
            const B = 28; // Lorenz parametresi rho
            const C = 8 / 3; // Lorenz parametresi beta


            // Lorenz denklemlerini bir adım ilerleten fonksiyon
            function updateLorenz(x, y, z) {
                let dx = A * (y - x) * dt;
                let dy = (x * (B - z) - y) * dt;
                let dz = (x * y - C * z) * dt;
                return [x + dx, y + dy, z + dz];
            }

            // Animasyon döngüsü
            function animateButterfly() {
                // Her iki yörüngeyi de güncelle
                [x1, y1, z1] = updateLorenz(x1, y1, z1);
                points1.push({ x: x1, y: y1, z: z1 });
                if (points1.length > maxPoints) points1.shift(); // En eski noktayı sil

                [x2, y2, z2] = updateLorenz(x2, y2, z2);
                points2.push({ x: x2, y: y2, z: z2 });
                if (points2.length > maxPoints) points2.shift(); // En eski noktayı sil

                ctx.clearRect(0, 0, width, height); // Tüm canvas'ı temizle

                // Çizim ölçeklendirmeleri
                const scaleX = width / 60; // Lorenz X aralığı yaklaşık -25 ila 25
                const scaleY = height / 60; // Lorenz Y aralığı yaklaşık -30 ila 30
                const offsetX = width / 2;
                const offsetY = height / 2;

                // Yörüngeleri çiz
                for (let i = 0; i < points1.length - 1; i++) {
                    const p1 = points1[i];
                    const p2 = points1[i+1];
                    const p3 = points2[i];
                    const p4 = points2[i+1];

                    // Birinci yol (Mavi)
                    ctx.beginPath();
                    ctx.moveTo(p1.x * scaleX + offsetX, p1.y * scaleY + offsetY);
                    ctx.lineTo(p2.x * scaleX + offsetX, p2.y * scaleY + offsetY);
                    // Yörüngenin eskiliğine göre opaklık ayarla (son noktalar daha opak)
                    ctx.strokeStyle = `rgba(59, 130, 246, ${i / maxPoints})`;
                    ctx.lineWidth = 1;
                    ctx.stroke();

                    // İkinci yol (Mor)
                    ctx.beginPath();
                    ctx.moveTo(p3.x * scaleX + offsetX, p3.y * scaleY + offsetY);
                    ctx.lineTo(p4.x * scaleX + offsetX, p4.y * scaleY + offsetY);
                    ctx.strokeStyle = `rgba(168, 85, 247, ${i / maxPoints})`;
                    ctx.lineWidth = 1;
                    ctx.stroke();
                }

                // Mevcut noktaları vurgulamak için daire olarak çiz
                ctx.fillStyle = 'rgba(59, 130, 246, 1)';
                ctx.beginPath();
                ctx.arc(x1 * scaleX + offsetX, y1 * scaleY + offsetY, 3, 0, Math.PI * 2);
                ctx.fill();

                ctx.fillStyle = 'rgba(168, 85, 247, 1)';
                ctx.beginPath();
                ctx.arc(x2 * scaleX + offsetX, y2 * scaleY + offsetY, 3, 0, Math.PI * 2);
                ctx.fill();

                // Sonraki kare için animasyonu zamanla
                butterflyAnimationId = requestAnimationFrame(animateButterfly);
            }
            animateButterfly(); // Animasyon döngüsünü başlat
        }

        // 4. Ocean Routes Simulation (Deniz Rotaları)
        // Columbus'un deniz rotasını, rüzgar ve akıntıların kaotik etkileriyle simüle eder.
        function initOceanCanvas() {
            const canvas = document.getElementById('oceanCanvas');
            const { width, height } = setupCanvasForDPR(canvas); // DPR'a göre ayarla
            const ctx = canvas.getContext('2d');

            // Önceki animasyonu durdur ve durumu sıfırla
            if (oceanAnimationId) cancelAnimationFrame(oceanAnimationId);
            const startX = width * 0.1; // İspanya (Palos) başlangıç noktası
            const startY = height * 0.6;
            const endX = width * 0.9;   // San Salvador hedef noktası
            const endY = height * 0.4;

            let columbusX = startX;
            let columbusY = startY;
            const columbusSpeed = 2; // Gemi hızı (piksel/kare)
            let progress = 0; // Yolculuğun ilerlemesi (0'dan 1'e)
            let routePoints = []; // Geminin geçtiği noktaları tutar
            const maxRoutePoints = 1000; // Çizilen rota noktasının maksimum sayısı
            let currentPerturbation = { x: 0, y: 0 }; // Rastgele pertürbasyon (kaotik etki)

            // Basitleştirilmiş okyanus akıntıları ve rüzgar vektörleri
            const tradeWindVector = { x: 0.8, y: -0.2 }; // Ticaret rüzgarları (Güneybatı yönünde)
            const canaryCurrentVector = { x: 0.1, y: -0.5 }; // Kanarya Akıntısı (Başlangıçta güneye doğru)

            // Animasyon döngüsü
            function animateOceanRoutes() {
                ctx.clearRect(0, 0, width, height); // Canvas'ı temizle

                // Arka plan gradyanı (Okyanus)
                const gradient = ctx.createLinearGradient(0, 0, 0, height);
                gradient.addColorStop(0, '#0a0a2a');
                gradient.addColorStop(0.5, '#1e3a8a');
                gradient.addColorStop(1, '#0c4a6e');
                ctx.fillStyle = gradient;
                ctx.fillRect(0, 0, width, height);

                // Kara parçalarını çiz (basitleştirilmiş daireler)
                ctx.fillStyle = '#166534'; // Kara rengi
                ctx.beginPath();
                ctx.arc(startX, startY, 15, 0, Math.PI * 2); // İspanya dairesi
                ctx.fill();
                ctx.beginPath();
                ctx.arc(endX, endY, 15, 0, Math.PI * 2); // Amerika dairesi
                ctx.fill();
                
                // Yaklaşık ticaret rüzgarı bölgesini çiz
                ctx.strokeStyle = 'rgba(59, 130, 246, 0.3)';
                ctx.lineWidth = 1;
                ctx.setLineDash([5, 5]); // Kesik çizgi
                ctx.beginPath();
                // Bu dikdörtgen, yaklaşık ticaret rüzgarı bölgesini (10-30N enlem) temsil eder.
                const tradeWindZoneTop = height * 0.3; 
                const tradeWindZoneHeight = height * 0.4;
                ctx.rect(width * 0.05, tradeWindZoneTop, width * 0.9, tradeWindZoneHeight);
                ctx.stroke();
                ctx.font = '10px Arial';
                ctx.fillStyle = 'rgba(59, 130, 246, 0.5)';
                ctx.fillText('Ticaret Rüzgarları Bölgesi', width * 0.4, tradeWindZoneTop + 15);


                // Columbus'un konumunu güncelle
                if (progress < 1) { // Hedefe ulaşılmadıysa
                    const targetX = endX;
                    const targetY = endY;

                    // Hedefe doğru yön vektörü
                    let dirX = targetX - columbusX;
                    let dirY = targetY - columbusY;
                    const dist = Math.sqrt(dirX * dirX + dirY * dirY);

                    // Yön vektörünü normalize et
                    if (dist > 0) {
                        dirX /= dist;
                        dirY /= dist;
                    }

                    // Ana yönde ilerle
                    columbusX += dirX * columbusSpeed;
                    columbusY += dirY * columbusSpeed;

                    // Rastgele pertürbasyon uygula (kaotik okyanus/hava etkileri)
                    currentPerturbation.x = (Math.random() - 0.5) * 2; // Küçük rastgele sapma
                    currentPerturbation.y = (Math.random() - 0.5) * 2;
                    
                    // Basitleştirilmiş "Ticaret Rüzgarları" ve "Kanarya Akıntısı" etkilerini uygula
                    // Sadece bölgedeyken ticaret rüzgarlarını uygula
                    if (columbusY > tradeWindZoneTop && columbusY < (tradeWindZoneTop + tradeWindZoneHeight)) {
                        columbusX += tradeWindVector.x * 0.5;
                        columbusY += tradeWindVector.y * 0.5;
                    }
                    // Başlangıçta Kanarya Akıntısı etkisi
                    if (progress < 0.2) {
                        columbusX += canaryCurrentVector.x * 0.5;
                        columbusY += canaryCurrentVector.y * 0.5;
                    }

                    columbusX += currentPerturbation.x * 0.5; // Pertürbasyonu ölçeklendir
                    columbusY += currentPerturbation.y * 0.5;

                    routePoints.push({ x: columbusX, y: columbusY }); // Rota noktasına ekle
                    if (routePoints.length > maxRoutePoints) routePoints.shift(); // Maksimum noktayı aşarsa en eskisini sil

                    // İlerleme yüzdesini hesapla
                    progress = Math.sqrt(Math.pow(columbusX - startX, 2) + Math.pow(columbusY - startY, 2)) /
                                 Math.sqrt(Math.pow(endX - startX, 2) + Math.pow(endY - startY, 2));
                } else {
                    // Hedefe ulaşınca konumu ve rotayı sıfırla (tekrar başlamak için)
                    routePoints = []; 
                    columbusX = startX;
                    columbusY = startY;
                    progress = 0;
                }

                // Rotayı çiz
                ctx.strokeStyle = 'rgba(239, 68, 68, 0.8)'; // Columbus rotası için kırmızı
                ctx.lineWidth = 2;
                ctx.setLineDash([]); // Düz çizgi
                ctx.beginPath();
                if (routePoints.length > 0) {
                    ctx.moveTo(routePoints[0].x, routePoints[0].y);
                    for (let i = 1; i < routePoints.length; i++) {
                        ctx.lineTo(routePoints[i].x, routePoints[i].y);
                    }
                }
                ctx.stroke();

                // Columbus'un gemisini çiz
                ctx.fillStyle = 'white';
                ctx.beginPath();
                ctx.arc(columbusX, columbusY, 8, 0, Math.PI * 2);
                ctx.fill();
                ctx.font = '12px "Font Awesome 6 Free"'; // Font Awesome gemi ikonu için
                ctx.fillText('\uf21a', columbusX - 6, columbusY + 4); // Gemi ikonu

                // Sonraki kare için animasyonu zamanla
                oceanAnimationId = requestAnimationFrame(animateOceanRoutes);
            }
            animateOceanRoutes(); // Animasyonu başlat
        }

        // 5. Lorenz 3D Simulation (lorenz-simulasyon)
        // Lorenz atraktörünün 3D görselleştirmesi.
        const LORENZ_PARAMS = { A: 10, B: 28, C: 8 / 3 }; // Lorenz denklemleri parametreleri
        const dtLorenz3D = 0.01; // Zaman adımı
        const maxLorenzPoints = 5000; // Çizilecek maksimum nokta sayısı
        let lorenzPoints = []; // Lorenz yörüngesi noktaları
        let x_lorenz = 0.1, y_lorenz = 0, z_lorenz = 0; // Lorenz sisteminin mevcut durumu

        // Three.js sahnesini başlatan ve kuran fonksiyon
        function initLorenz3D() {
            const container = document.getElementById('lorenz3D');
            // Önceki renderer varsa temizle (bellek sızıntılarını önlemek için kritik)
            if (lorenzRenderer && lorenzRenderer.domElement.parentNode === container) {
                container.removeChild(lorenzRenderer.domElement);
                disposeThreeJsObjects(lorenzScene, lorenzRenderer); // Özel temizleme fonksiyonu
                // Global referansları sıfırla
                lorenzRenderer = null;
                lorenzScene = null;
                lorenzCamera = null;
                lorenzLine = null;
                lorenzMaterial = null;
            }

            const width = container.clientWidth;
            const height = container.clientHeight;
            const dpr = window.devicePixelRatio || 1; // Cihaz piksel yoğunluğu oranı

            // Sahne (Scene)
            lorenzScene = new THREE.Scene();

            // Kamera (Camera)
            lorenzCamera = new THREE.PerspectiveCamera(75, width / height, 0.1, 1000);
            lorenzCamera.position.z = 100;
            lorenzCamera.position.y = 50;
            lorenzCamera.lookAt(0, 0, 0); // Başlangıçta merkeze bak

            // Renderer
            lorenzRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true }); // Anti-aliasing ve şeffaflık
            lorenzRenderer.setSize(width, height); // Boyutu ayarla
            lorenzRenderer.setPixelRatio(dpr); // Piksel oranını ayarla (daha keskin görüntü için)
            container.appendChild(lorenzRenderer.domElement); // DOM'a ekle

            // Çizgi için materyal (vertex renklerini kullanır)
            lorenzMaterial = new THREE.LineBasicMaterial({ vertexColors: true, linewidth: 2 }); 

            // Çizgi için geometri (dinamik olarak güncellenecek)
            const geometry = new THREE.BufferGeometry();
            lorenzLine = new THREE.Line(geometry, lorenzMaterial);
            lorenzScene.add(lorenzLine); // Sahneye ekle

            // Başlangıç noktası ve geometriyi güncelleme
            lorenzPoints = [];
            x_lorenz = 0.1; y_lorenz = 0; z_lorenz = 0; // Başlangıç durumu
            lorenzPoints.push(new THREE.Vector3(x_lorenz, y_lorenz, z_lorenz));
            updateLorenzGeometry();

            animateLorenz3D(); // Animasyon döngüsünü başlat
            lorenz3DInitialized = true; // Başlatma bayrağını ayarla
        }

        // Lorenz atraktörünün durumunu bir zaman adımı ilerleten fonksiyon
        function updateLorenzAttractor() {
            const { A, B, C } = LORENZ_PARAMS;
            let dx = A * (y_lorenz - x_lorenz) * dtLorenz3D;
            let dy = (x_lorenz * (B - z_lorenz) - y_lorenz) * dtLorenz3D;
            let dz = (x_lorenz * y_lorenz - C * z_lorenz) * dtLorenz3D;

            x_lorenz += dx;
            y_lorenz += dy;
            z_lorenz += dz;

            lorenzPoints.push(new THREE.Vector3(x_lorenz, y_lorenz, z_lorenz));
            if (lorenzPoints.length > maxLorenzPoints) {
                lorenzPoints.shift(); // En eski noktayı sil (rota sabit uzunlukta kalır)
            }
        }

        // Three.js geometrisini Lorenz noktalarıyla güncelleyen fonksiyon
        function updateLorenzGeometry() {
            if (!lorenzLine || !lorenzLine.geometry) return; // Nesnelerin var olduğundan emin ol

            const positions = [];
            const colors = [];
            const color = new THREE.Color();

            for (let i = 0; i < lorenzPoints.length; i++) {
                // Noktaları daha iyi görünürlük için ölçeklendir
                positions.push(lorenzPoints[i].x * 2, lorenzPoints[i].y * 2, lorenzPoints[i].z * 2); 
                // Yörüngenin eskiliğine/pozisyonuna göre renk gradyanı uygula
                const normalizedZ = (lorenzPoints[i].z + 50) / 100; // Z değerini [0,1] arasına normalize et
                color.setHSL(0.6 + (normalizedZ * 0.15), 1, 0.5); // Maviden mora doğru ton değişimi
                colors.push(color.r, color.g, color.b);
            }

            // Pozisyon ve renk niteliklerini güncelle
            lorenzLine.geometry.setAttribute('position', new THREE.Float32BufferAttribute(positions, 3));
            lorenzLine.geometry.setAttribute('color', new THREE.Float32BufferAttribute(colors, 3));
            // Güncellemenin Three.js tarafından algılanması için bayrakları true yap
            lorenzLine.geometry.attributes.position.needsUpdate = true;
            lorenzLine.geometry.attributes.color.needsUpdate = true;
        }

        // 3D Lorenz animasyon döngüsü
        function animateLorenz3D() {
            if (!lorenzPaused && lorenzRenderer && lorenzScene && lorenzCamera) {
                updateLorenzAttractor(); // Atraktor durumunu güncelle
                updateLorenzGeometry(); // Geometriyi güncelle

                // Kamerayı atraktör etrafında yavaşça döndür
                const time = Date.now() * 0.00005;
                const radius = 100;
                const targetY = 25; // Atraktorun merkezi biraz yukarıda
                lorenzCamera.position.x = Math.cos(time) * radius;
                lorenzCamera.position.z = Math.sin(time) * radius;
                lorenzCamera.position.y = targetY; 
                lorenzCamera.lookAt(0, targetY, 0); // Merkeze bak

                lorenzRenderer.render(lorenzScene, lorenzCamera); // Sahneyi render et
            }
            lorenzAnimationId = requestAnimationFrame(animateLorenz3D); // Sonraki kare için zamanla
        }

        // 3D Lorenz simülasyonunu sıfırlayan fonksiyon
        function resetLorenz3D() {
            if (lorenzAnimationId) cancelAnimationFrame(lorenzAnimationId); // Önceki animasyonu durdur

            // Sahnedeki çizgiyi kaldır ve kaynaklarını temizle
            if (lorenzScene && lorenzLine) {
                lorenzScene.remove(lorenzLine);
                lorenzLine.geometry.dispose();
                lorenzLine.material.dispose();
            }

            // Durumu başlangıç değerlerine sıfırla
            lorenzPoints = [];
            x_lorenz = 0.1; y_lorenz = 0; z_lorenz = 0;
            lorenzPoints.push(new THREE.Vector3(x_lorenz, y_lorenz, z_lorenz));

            // Yeni geometri ve materyal oluştur (disposed edildiği için)
            const geometry = new THREE.BufferGeometry();
            lorenzMaterial = new THREE.LineBasicMaterial({ vertexColors: true }); 
            lorenzLine = new THREE.Line(geometry, lorenzMaterial);
            lorenzScene.add(lorenzLine); // Sahneye tekrar ekle

            lorenzPaused = false; // Animasyonun tekrar başlamasını sağla
            animateLorenz3D(); // Animasyonu başlat
        }

        // 3D Lorenz simülasyonunu duraklatan/başlatan fonksiyon
        function toggleLorenz3D() {
            lorenzPaused = !lorenzPaused;
            // İkonu da güncelleme (isteğe bağlı)
            // const toggleBtn = document.querySelector('#lorenz-simulasyon button:nth-child(2)');
            // if (toggleBtn) {
            //     toggleBtn.querySelector('i').classList.toggle('fa-pause');
            //     toggleBtn.querySelector('i').classList.toggle('fa-play');
            // }
            if (!lorenzPaused && !lorenzAnimationId) { // Duraklatılmışsa ve animasyon durduysa yeniden başlat
                animateLorenz3D();
            }
        }

        // Three.js nesnelerini GPU belleğinden temizlemek için kritik fonksiyon
        function disposeThreeJsObjects(scene, renderer) {
            if (!scene || !renderer) return;

            // Sahnedeki tüm mesh'leri (geometri ve materyal içeren nesneler) dolaş
            scene.traverse(object => {
                if (!object.isMesh) return; // Sadece mesh nesneleriyle ilgilen

                // Geometriyi temizle
                if (object.geometry) object.geometry.dispose();

                // Materyali temizle
                if (object.material) {
                    if (Array.isArray(object.material)) {
                        // Eğer birden fazla materyal varsa (array)
                        for (const material of object.material) cleanMaterial(material);
                    } else {
                        // Tek materyal varsa
                        cleanMaterial(object.material);
                    }
                }
            });

            // Renderer'ı temizle (WebGL bağlamını serbest bırakır)
            renderer.dispose();
            // Renderer'ın iç render listelerini de temizle
            renderer.renderLists.dispose();
            // Not: renderer.forceContextLoss() daha agresif bir temizlemedir,
            // genellikle sayfa tamamen kapatıldığında veya çok nadir durumlarda kullanılır.
        }

        // Materyal ve ilişkili dokuları temizleyen yardımcı fonksiyon
        function cleanMaterial(material) {
            material.dispose(); // Materyali temizle
            // Materyale bağlı tüm dokuları (map, normalMap vb.) temizle
            for (const key of Object.keys(material)) {
                const value = material[key];
                if (value && typeof value === 'object' && 'isTexture' in value) {
                    value.dispose(); // Dokuyu temizle
                }
            }
        }


        // 6. Main Bifurcation Diagram (bifurkasyon section)
        // Lojistik Haritanın tam bifurkasyon diyagramını gösteren grafik.
        function initBifurcationCanvas() {
            const canvas = document.getElementById('bifurcationCanvas');
            const { width, height } = setupCanvasForDPR(canvas); // DPR'a göre ayarla
            const ctx = canvas.getContext('2d');
            
            if (bifurcationMainChart) {
                bifurcationMainChart.destroy(); // Önceki grafiği yok et
            }

            let allData = [];
            // Daha detaylı bir diyagram için daha küçük r adımları kullan
            for (let r = 2.5; r <= 4.0; r += 0.001) { 
                let x = 0.1;
                // Sistemin kararlı duruma gelmesi için çok sayıda iterasyon yap
                for (let i = 0; i < 1000; i++) {
                    x = logisticMap(x, r);
                }
                // Atraktor noktalarını çizmek için bir miktar daha iterasyon yap ve noktaları topla
                for (let i = 0; i < 100; i++) { 
                    x = logisticMap(x, r);
                    allData.push({ x: r, y: x });
                }
            }

            bifurcationMainChart = new Chart(ctx, {
                type: 'scatter', // Dağılım grafiği
                data: {
                    datasets: [{
                        label: 'Lojistik Harita Bifurkasyon Diyagramı',
                        data: allData,
                        backgroundColor: 'rgba(168, 85, 247, 0.4)', // Mor renk
                        pointRadius: 0.5, // Nokta boyutu çok küçük
                        pointBorderWidth: 0,
                        showLine: false // Noktaları birleştirme
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear',
                            position: 'bottom',
                            min: 2.5,
                            max: 4.0,
                            title: { display: true, text: 'r (Büyüme Parametresi)', color: '#cbd5e1' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        },
                        y: {
                            type: 'linear',
                            min: 0,
                            max: 1,
                            title: { display: true, text: 'x (Popülasyon Durumu / Sistem Değeri)', color: '#cbd5e1' },
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return `r: ${context.parsed.x.toFixed(3)}, x: ${context.parsed.y.toFixed(3)}`;
                                }
                            }
                        },
                        // Özel eklenti ile dikey çizgileri çiz
                        afterDraw: (chart) => {
                            const addVerticalLine = (value, label, color) => {
                                const x = chart.scales.x.getPixelForValue(value);
                                const ctx = chart.ctx;
                                ctx.save();
                                ctx.beginPath();
                                ctx.strokeStyle = color;
                                ctx.lineWidth = 2;
                                ctx.setLineDash([5, 5]);
                                ctx.moveTo(x, chart.scales.y.top);
                                ctx.lineTo(x, chart.scales.y.bottom);
                                ctx.stroke();
                                ctx.restore();

                                ctx.fillStyle = color;
                                ctx.font = '12px Arial';
                                ctx.textAlign = 'center';
                                ctx.fillText(label, x, chart.scales.y.top + 15);
                            };
                            // Tarihsel olaylara karşılık gelen yaklaşık r değerleri
                            addVerticalLine(3.2, '1453 (Konstantinopolis)', 'rgba(59, 130, 246, 0.8)');
                            addVerticalLine(3.5, '1488 (Ümit Burnu)', 'rgba(168, 85, 247, 0.8)');
                            addVerticalLine(3.8, '1492 (Columbus)', 'rgba(239, 68, 68, 0.8)');
                        }
                    },
                    animation: {
                        duration: 0 // Başlangıç animasyonunu devre dışı bırak
                    }
                }
            });
        }


        // 7. Phase Space Simulation (lorenz-simulasyon)
        // Lorenz atraktörünün 2D faz uzayı projeksiyonunu (X-Y düzlemi) gösterir.
        const initialX = 0.1, initialY = 0, initialZ = 0; // Sabit başlangıç noktası
        let currentX = initialX, currentY = initialY, currentZ = initialZ; // Mevcut Lorenz durumu
        const phaseDt = 0.01; // Zaman adımı
        const phaseMaxPoints = 5000; // Çizilecek maksimum nokta sayısı
        let phasePoints = []; // Faz uzayı noktaları

        // 2D faz uzayı grafiğini başlatan işlev
        function initPhaseSpaceCanvas() {
            const canvas = document.getElementById('phaseSpaceCanvas');
            const { width, height } = setupCanvasForDPR(canvas); // DPR'a göre ayarla
            const ctx = canvas.getContext('2d');

            if (phaseSpaceChart) {
                phaseSpaceChart.destroy(); // Önceki grafiği yok et
            }

            phaseSpaceChart = new Chart(ctx, {
                type: 'line', // Çizgilerle noktaları birleştir
                data: {
                    datasets: [{
                        label: 'Lorenz Yörüngesi',
                        data: [],
                        borderColor: (context) => {
                            // Z değerine göre renk gradyanı uygula
                            const value = context.raw ? context.raw.z : 0; 
                            const hue = (value + 50) / 100 * 360; // Z'yi normalize et ve tonu ayarla
                            return `hsl(${hue}, 100%, 50%)`;
                        },
                        borderWidth: 1,
                        pointRadius: 0, // Nokta gösterme
                        fill: false,
                        tension: 0 // Bezier eğrisi kullanma (düz çizgiler)
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        x: {
                            type: 'linear',
                            title: { display: true, text: 'Ekonomik Faktörler (X)', color: '#cbd5e1' },
                            min: -30, max: 30, // Yaklaşık Lorenz sınırları
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        },
                        y: {
                            type: 'linear',
                            title: { display: true, text: 'Politik Dinamikler (Y)', color: '#cbd5e1' },
                            min: -30, max: 30, // Yaklaşık Lorenz sınırları
                            grid: { color: 'rgba(255, 255, 255, 0.1)' },
                            ticks: { color: '#a0aec0' }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: { callbacks: { label: function(context) { return `X: ${context.parsed.x.toFixed(2)}, Y: ${context.parsed.y.toFixed(2)}, Z: ${context.raw.z.toFixed(2)}`; } } }
                    },
                    animation: false // Chart.js'in kendi animasyonunu devre dışı bırak
                }
            });
        }

        // Lorenz faz uzayını bir adım ilerleten fonksiyon
        function updateLorenzPhaseSpace() {
            const { A, B, C } = LORENZ_PARAMS; // Lorenz 3D simülasyonundan parametreleri kullan
            let dx = A * (currentY - currentX) * phaseDt;
            let dy = (currentX * (B - currentZ) - currentY) * phaseDt;
            let dz = (currentX * currentY - C * currentZ) * phaseDt;

            currentX += dx;
            currentY += dy;
            currentZ += dz;

            phasePoints.push({ x: currentX, y: currentY, z: currentZ });
            if (phasePoints.length > phaseMaxPoints) {
                phasePoints.shift(); // En eski noktayı sil
            }

            // Grafik verisini güncelle
            if (phaseSpaceChart) { 
                phaseSpaceChart.data.datasets[0].data = phasePoints.map(p => ({ x: p.x, y: p.y, z: p.z }));
                phaseSpaceChart.update();
            }
        }

        // Faz uzayı animasyonunu başlatan döngü
        function animatePhaseSpace() {
            if (isPhaseAnimationRunning) { // Animasyonun çalışıp çalışmadığını kontrol et
                updateLorenzPhaseSpace(); // Durumu güncelle
                phaseAnimationId = requestAnimationFrame(animatePhaseSpace); // Sonraki kare için zamanla
            }
        }

        // Faz uzayı animasyonunu başlatan buton işlevi
        function startPhaseAnimation() {
            if (!isPhaseAnimationRunning) {
                if (!phaseSpaceCanvasInitialized) { // Canvas başlatılmadıysa başlat
                    initPhaseSpaceCanvas();
                    phaseSpaceCanvasInitialized = true;
                }
                isPhaseAnimationRunning = true; // Animasyonu çalışıyor olarak işaretle
                animatePhaseSpace(); // Animasyon döngüsünü başlat
            }
        }

        // Faz uzayı animasyonunu sıfırlayan buton işlevi
        function resetPhaseAnimation() {
            isPhaseAnimationRunning = false; // Animasyonu durdur
            if (phaseAnimationId) cancelAnimationFrame(phaseAnimationId); // Varsa animasyon karesini iptal et
            phasePoints = []; // Noktaları temizle
            currentX = initialX; currentY = initialY; currentZ = initialZ; // Başlangıç durumuna dön
            if (phaseSpaceChart) { // Grafik varsa veriyi temizle ve güncelle
                phaseSpaceChart.data.datasets[0].data = [];
                phaseSpaceChart.update();
            }
        }

        // --- Initial Load and Resize Listener ---
        // Sayfa yüklendiğinde ve pencere boyutu değiştiğinde çalışan ana olay dinleyicisi.
        document.addEventListener('DOMContentLoaded', () => {
            // Sayfa yüklendiğinde ilk bölümü göster
            showSection('giris'); 

            // Tüm MathJax denklemlerinin yüklenmesi için global bir çağrı
            if (typeof MathJax !== 'undefined') {
                MathJax.startup.promise.then(() => {
                    // console.log("MathJax is ready.");
                }).catch((err) => console.error("MathJax startup failed: " + err.message));
            }
            // Mevcut (ilk) bölümün animasyonlarını başlat
            initializeSectionAnimations(currentSection);

            // Pencere boyutu değiştiğinde grafiklerin ve Three.js sahnesinin yeniden boyutlandırılmasını ayarla
            window.addEventListener('resize', () => {
                // Sadece mevcut bölümdeki canvas tabanlı grafiklerin yeniden başlatılması
                // Bu, setupCanvasForDPR çağrılarını içlerindeki init fonksiyonları aracılığıyla tetikleyecektir.
                initializeSectionAnimations(currentSection);

                // Three.js sahnesi için özel boyutlandırma (render'ı ve kamerayı güncelle)
                if (lorenz3DInitialized && lorenzRenderer && lorenzCamera) {
                    const container = document.getElementById('lorenz3D');
                    if (container) { // Konteynerin var olduğundan emin ol
                        const width = container.clientWidth;
                        const height = container.clientHeight;
                        const dpr = window.devicePixelRatio || 1;

                        lorenzCamera.aspect = width / height; // Kamera oranını güncelle
                        lorenzCamera.updateProjectionMatrix(); // Projeksiyon matrisini güncelle
                        lorenzRenderer.setSize(width, height); // Renderer boyutunu güncelle
                        lorenzRenderer.setPixelRatio(dpr); // Piksel oranını tekrar ayarla
                    }
                }
            });
        });
    </script>
</body>
</html>